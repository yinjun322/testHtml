window.__require=function t(e,i,n){function r(a,s){if(!i[a]){if(!e[a]){var u=a.split("/");if(u=u[u.length-1],!e[u]){var c="function"==typeof __require&&__require;if(!s&&c)return c(u,!0);if(o)return o(u,!0);throw new Error("Cannot find module '"+a+"'")}}var d=i[a]={exports:{}};e[a][0].call(d.exports,function(t){return r(e[a][1][t]||t)},d,d.exports,t,e,i,n)}return i[a].exports}for(var o="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(t,e,i){"use strict";i.byteLength=function(t){var e=c(t),i=e[0],n=e[1];return 3*(i+n)/4-n},i.toByteArray=function(t){for(var e,i=c(t),n=i[0],a=i[1],s=new o(function(t,e,i){return 3*(e+i)/4-i}(0,n,a)),u=0,d=a>0?n-4:n,l=0;l<d;l+=4)e=r[t.charCodeAt(l)]<<18|r[t.charCodeAt(l+1)]<<12|r[t.charCodeAt(l+2)]<<6|r[t.charCodeAt(l+3)],s[u++]=e>>16&255,s[u++]=e>>8&255,s[u++]=255&e;2===a&&(e=r[t.charCodeAt(l)]<<2|r[t.charCodeAt(l+1)]>>4,s[u++]=255&e);1===a&&(e=r[t.charCodeAt(l)]<<10|r[t.charCodeAt(l+1)]<<4|r[t.charCodeAt(l+2)]>>2,s[u++]=e>>8&255,s[u++]=255&e);return s},i.fromByteArray=function(t){for(var e,i=t.length,r=i%3,o=[],a=0,s=i-r;a<s;a+=16383)o.push(l(t,a,a+16383>s?s:a+16383));1===r?(e=t[i-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===r&&(e=(t[i-2]<<8)+t[i-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return o.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],r[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function d(t){return n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t]}function l(t,e,i){for(var n,r=[],o=e;o<i;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),r.push(d(n));return r.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},{}],2:[function(t,e,i){(function(e){"use strict";var n=t("base64-js"),r=t("ieee754"),o=t("isarray");function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,i){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return c(this,t,e,i)}function c(t,e,i,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,i,n){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===i&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e);return t}(t,e,i,n):"string"==typeof e?function(t,e,i){"string"==typeof i&&""!==i||(i="utf8");if(!u.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(e,i),r=(t=s(t,n)).write(e,i);r!==n&&(t=t.slice(0,r));return t}(t,e,i):function(t,e){if(u.isBuffer(e)){var i=0|p(e.length);return 0===(t=s(t,i)).length?t:(e.copy(t,0,0,i),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?s(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function d(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(d(e),t=s(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function h(t,e){var i=e.length<0?0:0|p(e.length);t=s(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function f(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return V(t).length;default:if(n)return q(t).length;e=(""+e).toLowerCase(),n=!0}}function _(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function y(t,e,i,n,r){if(0===t.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:v(t,e,i,n,r);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):v(t,[e],i,n,r);throw new TypeError("val must be string, number or Buffer")}function v(t,e,i,n,r){var o,a=1,s=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,i/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(r){var d=-1;for(o=i;o<s;o++)if(c(t,o)===c(e,-1===d?0:o-d)){if(-1===d&&(d=o),o-d+1===u)return d*a}else-1!==d&&(o-=o-d),d=-1}else for(i+u>s&&(i=s-u),o=i;o>=0;o--){for(var l=!0,h=0;h<u;h++)if(c(t,o+h)!==c(e,h)){l=!1;break}if(l)return o}return-1}function g(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n))>r&&(n=r):n=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[i+a]=s}return a}function m(t,e,i,n){return Y(q(e,t.length-i),t,i,n)}function b(t,e,i,n){return Y(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,n)}function w(t,e,i,n){return b(t,e,i,n)}function A(t,e,i,n){return Y(V(e),t,i,n)}function S(t,e,i,n){return Y(function(t,e){for(var i,n,r,o=[],a=0;a<t.length&&!((e-=2)<0);++a)i=t.charCodeAt(a),n=i>>8,r=i%256,o.push(r),o.push(n);return o}(e,t.length-i),t,i,n)}function T(t,e,i){return 0===e&&i===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,i))}function D(t,e,i){i=Math.min(t.length,i);for(var n=[],r=e;r<i;){var o,a,s,u,c=t[r],d=null,l=c>239?4:c>223?3:c>191?2:1;if(r+l<=i)switch(l){case 1:c<128&&(d=c);break;case 2:128==(192&(o=t[r+1]))&&(u=(31&c)<<6|63&o)>127&&(d=u);break;case 3:o=t[r+1],a=t[r+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(d=u);break;case 4:o=t[r+1],a=t[r+2],s=t[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(d=u)}null===d?(d=65533,l=1):d>65535&&(d-=65536,n.push(d>>>10&1023|55296),d=56320|1023&d),n.push(d),r+=l}return function(t){var e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);var i="",n=0;for(;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=x));return i}(n)}i.Buffer=u,i.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},i.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),i.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,i){return c(null,t,e,i)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,i){return function(t,e,i,n){return d(e),e<=0?s(t,e):void 0!==i?"string"==typeof n?s(t,e).fill(i,n):s(t,e).fill(i):s(t,e)}(null,t,e,i)},u.allocUnsafe=function(t){return l(null,t)},u.allocUnsafeSlow=function(t){return l(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,r=0,o=Math.min(i,n);r<o;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=u.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var a=t[i];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,r),r+=a.length}return n},u.byteLength=f,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?D(this,0,t):function(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,i);case"utf8":case"utf-8":return D(this,e,i);case"ascii":return M(this,e,i);case"latin1":case"binary":return N(this,e,i);case"base64":return T(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",e=i.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,i,n,r){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),e<0||i>t.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&e>=i)return 0;if(n>=r)return-1;if(e>=i)return 1;if(e>>>=0,i>>>=0,n>>>=0,r>>>=0,this===t)return 0;for(var o=r-n,a=i-e,s=Math.min(o,a),c=this.slice(n,r),d=t.slice(e,i),l=0;l<s;++l)if(c[l]!==d[l]){o=c[l],a=d[l];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},u.prototype.indexOf=function(t,e,i){return y(this,t,e,i,!0)},u.prototype.lastIndexOf=function(t,e,i){return y(this,t,e,i,!1)},u.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return g(this,t,e,i);case"utf8":case"utf-8":return m(this,t,e,i);case"ascii":return b(this,t,e,i);case"latin1":case"binary":return w(this,t,e,i);case"base64":return A(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function M(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(127&t[r]);return n}function N(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(t[r]);return n}function O(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var r="",o=e;o<i;++o)r+=j(t[o]);return r}function F(t,e,i){for(var n=t.slice(e,i),r="",o=0;o<n.length;o+=2)r+=String.fromCharCode(n[o]+256*n[o+1]);return r}function E(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,i,n,r,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function P(t,e,i,n){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-i,2);r<o;++r)t[i+r]=(e&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function I(t,e,i,n){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-i,4);r<o;++r)t[i+r]=e>>>8*(n?r:3-r)&255}function C(t,e,i,n,r,o){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function L(t,e,i,n,o){return o||C(t,0,i,4),r.write(t,e,i,n,23,4),i+4}function B(t,e,i,n,o){return o||C(t,0,i,8),r.write(t,e,i,n,52,8),i+8}u.prototype.slice=function(t,e){var i,n=this.length;if(t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=u.prototype;else{var r=e-t;i=new u(r,void 0);for(var o=0;o<r;++o)i[o]=this[o+t]}return i},u.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||E(t,e,this.length);for(var n=this[t],r=1,o=0;++o<e&&(r*=256);)n+=this[t+o]*r;return n},u.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||E(t,e,this.length);for(var n=this[t+--e],r=1;e>0&&(r*=256);)n+=this[t+--e]*r;return n},u.prototype.readUInt8=function(t,e){return e||E(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||E(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||E(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||E(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||E(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||E(t,e,this.length);for(var n=this[t],r=1,o=0;++o<e&&(r*=256);)n+=this[t+o]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||E(t,e,this.length);for(var n=e,r=1,o=this[t+--n];n>0&&(r*=256);)o+=this[t+--n]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||E(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||E(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},u.prototype.readInt16BE=function(t,e){e||E(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},u.prototype.readInt32LE=function(t,e){return e||E(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||E(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||E(t,4,this.length),r.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||E(t,4,this.length),r.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||E(t,8,this.length),r.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||E(t,8,this.length),r.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,i,n){(t=+t,e|=0,i|=0,n)||R(this,t,e,i,Math.pow(2,8*i)-1,0);var r=1,o=0;for(this[e]=255&t;++o<i&&(r*=256);)this[e+o]=t/r&255;return e+i},u.prototype.writeUIntBE=function(t,e,i,n){(t=+t,e|=0,i|=0,n)||R(this,t,e,i,Math.pow(2,8*i)-1,0);var r=i-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+i},u.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):I(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);R(this,t,e,i,r-1,-r)}var o=0,a=1,s=0;for(this[e]=255&t;++o<i&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+i},u.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);R(this,t,e,i,r-1,-r)}var o=i-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+i},u.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):I(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,i){return L(this,t,e,!0,i)},u.prototype.writeFloatBE=function(t,e,i){return L(this,t,e,!1,i)},u.prototype.writeDoubleLE=function(t,e,i){return B(this,t,e,!0,i)},u.prototype.writeDoubleBE=function(t,e,i){return B(this,t,e,!1,i)},u.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var r,o=n-i;if(this===t&&i<e&&e<n)for(r=o-1;r>=0;--r)t[r+e]=this[r+i];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+o),e);return o},u.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var o;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(o=e;o<i;++o)this[o]=t;else{var a=u.isBuffer(t)?t:q(new u(t,n).toString()),s=a.length;for(o=0;o<i-e;++o)this[o+e]=a[o%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function j(t){return t<16?"0"+t.toString(16):t.toString(16)}function q(t,e){var i;e=e||1/0;for(var n=t.length,r=null,o=[],a=0;a<n;++a){if((i=t.charCodeAt(a))>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&o.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;o.push(i)}else if(i<2048){if((e-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function V(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(U,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Y(t,e,i,n){for(var r=0;r<n&&!(r+i>=e.length||r>=t.length);++r)e[r+i]=t[r];return r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:4,isarray:3}],3:[function(t,e,i){var n={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}],4:[function(t,e,i){i.read=function(t,e,i,n,r){var o,a,s=8*r-n-1,u=(1<<s)-1,c=u>>1,d=-7,l=i?r-1:0,h=i?-1:1,p=t[e+l];for(l+=h,o=p&(1<<-d)-1,p>>=-d,d+=s;d>0;o=256*o+t[e+l],l+=h,d-=8);for(a=o&(1<<-d)-1,o>>=-d,d+=n;d>0;a=256*a+t[e+l],l+=h,d-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)},i.write=function(t,e,i,n,r,o){var a,s,u,c=8*o-r-1,d=(1<<c)-1,l=d>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,f=n?1:-1,_=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=d):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+l>=1?h/u:h*Math.pow(2,1-l))*u>=2&&(a++,u/=2),a+l>=d?(s=0,a=d):a+l>=1?(s=(e*u-1)*Math.pow(2,r),a+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,r),a=0));r>=8;t[i+p]=255&s,p+=f,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;t[i+p]=255&a,p+=f,a/=256,c-=8);t[i+p-f]|=128*_}},{}],5:[function(t,e,i){"use strict";const n=t("shallow-clone"),r=t("kind-of"),o=t("is-plain-object");function a(t,e){switch(r(t)){case"object":return function(t,e){if("function"==typeof e)return e(t);if(e||o(t)){const i=new t.constructor;for(let n in t)i[n]=a(t[n],e);return i}return t}(t,e);case"array":return function(t,e){const i=new t.constructor(t.length);for(let n=0;n<t.length;n++)i[n]=a(t[n],e);return i}(t,e);default:return n(t)}}e.exports=a},{"is-plain-object":13,"kind-of":15,"shallow-clone":16}],6:[function(t,e,i){(function(n,r){if("function"==typeof define&&define.amd)define(["module","exports","../utils"],r);else if(void 0!==i)r(e,i,t("../utils"));else{var o={exports:{}};r(o,o.exports,n.utils),n.index=o.exports}})(this,function(t,e,i){"use strict";function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e.default=function t(e,o){if(e===o||!(0,i.isObject)(e)||!(0,i.isObject)(o))return{};var a=(0,i.properObject)(e),s=(0,i.properObject)(o);return Object.keys(s).reduce(function(e,o){if(a.hasOwnProperty(o)){var u=t(a[o],s[o]);return(0,i.isObject)(u)&&(0,i.isEmpty)(u)?e:r({},e,n({},o,u))}return r({},e,n({},o,s[o]))},{})},t.exports=e.default})},{"../utils":12}],7:[function(t,e,i){(function(n,r){if("function"==typeof define&&define.amd)define(["module","exports","../utils"],r);else if(void 0!==i)r(e,i,t("../utils"));else{var o={exports:{}};r(o,o.exports,n.utils),n.index=o.exports}})(this,function(t,e,i){"use strict";function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e.default=function t(e,o){if(e===o||!(0,i.isObject)(e)||!(0,i.isObject)(o))return{};var a=(0,i.properObject)(e),s=(0,i.properObject)(o);return Object.keys(a).reduce(function(e,o){if(s.hasOwnProperty(o)){var u=t(a[o],s[o]);return(0,i.isObject)(u)&&(0,i.isEmpty)(u)?e:r({},e,n({},o,u))}return r({},e,n({},o,void 0))},{})},t.exports=e.default})},{"../utils":12}],8:[function(t,e,i){(function(n,r){if("function"==typeof define&&define.amd)define(["module","exports","../added","../deleted","../updated"],r);else if(void 0!==i)r(e,i,t("../added"),t("../deleted"),t("../updated"));else{var o={exports:{}};r(o,o.exports,n.added,n.deleted,n.updated),n.index=o.exports}})(this,function(t,e,i,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(i),a=u(n),s=u(r);function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){return{added:(0,o.default)(t,e),deleted:(0,a.default)(t,e),updated:(0,s.default)(t,e)}},t.exports=e.default})},{"../added":6,"../deleted":7,"../updated":11}],9:[function(t,e,i){(function(n,r){if("function"==typeof define&&define.amd)define(["module","exports","../utils"],r);else if(void 0!==i)r(e,i,t("../utils"));else{var o={exports:{}};r(o,o.exports,n.utils),n.index=o.exports}})(this,function(t,e,i){"use strict";function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e.default=function t(e,o){if(e===o)return{};if(!(0,i.isObject)(e)||!(0,i.isObject)(o))return o;var a=(0,i.properObject)(e),s=(0,i.properObject)(o),u=Object.keys(a).reduce(function(t,e){return s.hasOwnProperty(e)?t:r({},t,n({},e,void 0))},{});return(0,i.isDate)(a)||(0,i.isDate)(s)?a.valueOf()==s.valueOf()?{}:s:Object.keys(s).reduce(function(e,o){if(!a.hasOwnProperty(o))return r({},e,n({},o,s[o]));var u=t(a[o],s[o]);return(0,i.isObject)(u)&&(0,i.isEmpty)(u)&&!(0,i.isDate)(u)?e:r({},e,n({},o,u))},u)},t.exports=e.default})},{"../utils":12}],10:[function(t,e,i){(function(e,n){if("function"==typeof define&&define.amd)define(["exports","./diff","./added","./deleted","./updated","./detailed"],n);else if(void 0!==i)n(i,t("./diff"),t("./added"),t("./deleted"),t("./updated"),t("./detailed"));else{var r={exports:{}};n(r.exports,e.diff,e.added,e.deleted,e.updated,e.detailed),e.index=r.exports}})(this,function(t,e,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detailedDiff=t.updatedDiff=t.deletedDiff=t.diff=t.addedDiff=void 0;var a=l(e),s=l(i),u=l(n),c=l(r),d=l(o);function l(t){return t&&t.__esModule?t:{default:t}}t.addedDiff=s.default,t.diff=a.default,t.deletedDiff=u.default,t.updatedDiff=c.default,t.detailedDiff=d.default})},{"./added":6,"./deleted":7,"./detailed":8,"./diff":9,"./updated":11}],11:[function(t,e,i){(function(n,r){if("function"==typeof define&&define.amd)define(["module","exports","../utils"],r);else if(void 0!==i)r(e,i,t("../utils"));else{var o={exports:{}};r(o,o.exports,n.utils),n.index=o.exports}})(this,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e.default=function t(e,r){if(e===r)return{};if(!(0,i.isObject)(e)||!(0,i.isObject)(r))return r;var o=(0,i.properObject)(e),a=(0,i.properObject)(r);return(0,i.isDate)(o)||(0,i.isDate)(a)?o.valueOf()==a.valueOf()?{}:a:Object.keys(a).reduce(function(e,r){if(o.hasOwnProperty(r)){var s=t(o[r],a[r]);return(0,i.isObject)(s)&&(0,i.isEmpty)(s)&&!(0,i.isDate)(s)?e:n({},e,function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}({},r,s))}return e},{})},t.exports=e.default})},{"../utils":12}],12:[function(t,e,i){(function(t,e){if("function"==typeof define&&define.amd)define(["exports"],e);else if(void 0!==i)e(i);else{var n={exports:{}};e(n.exports),t.index=n.exports}})(this,function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=(t.isDate=function(t){return t instanceof Date},t.isEmpty=function(t){return 0===Object.keys(t).length},t.isObject=function(t){return null!=t&&"object"===(void 0===t?"undefined":i(t))});t.properObject=function(t){return n(t)&&!t.hasOwnProperty?e({},t):t}})},{}],13:[function(t,e,i){"use strict";var n=t("isobject");function r(t){return!0===n(t)&&"[object Object]"===Object.prototype.toString.call(t)}e.exports=function(t){var e,i;return!1!==r(t)&&("function"==typeof(e=t.constructor)&&(!1!==r(i=e.prototype)&&!1!==i.hasOwnProperty("isPrototypeOf")))}},{isobject:14}],14:[function(t,e,i){"use strict";e.exports=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}},{}],15:[function(t,e,i){var n=Object.prototype.toString;function r(t){return t.constructor?t.constructor.name:null}e.exports=function(t){if(void 0===t)return"undefined";if(null===t)return"null";var e=typeof t;if("boolean"===e)return"boolean";if("string"===e)return"string";if("number"===e)return"number";if("symbol"===e)return"symbol";if("function"===e)return function(t,e){return"GeneratorFunction"===r(t)}(t)?"generatorfunction":"function";if(function(t){return Array.isArray?Array.isArray(t):t instanceof Array}(t))return"array";if(function(t){if(t.constructor&&"function"==typeof t.constructor.isBuffer)return t.constructor.isBuffer(t);return!1}(t))return"buffer";if(function(t){try{if("number"==typeof t.length&&"function"==typeof t.callee)return!0}catch(t){if(-1!==t.message.indexOf("callee"))return!0}return!1}(t))return"arguments";if(function(t){return t instanceof Date||"function"==typeof t.toDateString&&"function"==typeof t.getDate&&"function"==typeof t.setDate}(t))return"date";if(function(t){return t instanceof Error||"string"==typeof t.message&&t.constructor&&"number"==typeof t.constructor.stackTraceLimit}(t))return"error";if(function(t){return t instanceof RegExp||"string"==typeof t.flags&&"boolean"==typeof t.ignoreCase&&"boolean"==typeof t.multiline&&"boolean"==typeof t.global}(t))return"regexp";switch(r(t)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(t){return"function"==typeof t.throw&&"function"==typeof t.return&&"function"==typeof t.next}(t))return"generator";switch(e=n.call(t)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return e.slice(8,-1).toLowerCase().replace(/\s/g,"")}},{}],16:[function(t,e,i){(function(i){"use strict";const n=Symbol.prototype.valueOf,r=t("kind-of");e.exports=function(t,e){switch(r(t)){case"array":return t.slice();case"object":return Object.assign({},t);case"date":return new t.constructor(+t);case"map":return new Map(t);case"set":return new Set(t);case"buffer":return function(t){const e=t.length,n=i.allocUnsafe?i.allocUnsafe(e):new i(e);return t.copy(n),n}(t);case"symbol":return function(t){return n?Object(n.call(t)):{}}(t);case"arraybuffer":return function(t){const e=new t.constructor(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}(t);case"float32array":case"float64array":case"int16array":case"int32array":case"int8array":case"uint16array":case"uint32array":case"uint8clampedarray":case"uint8array":return function(t,e){return new t.constructor(t.buffer,t.byteOffset,t.length)}(t);case"regexp":return function(t){const e=new t.constructor(t.source,/\w+$/.exec(t));return e.lastIndex=t.lastIndex,e}(t);case"error":return Object.create(t);default:return t}}}).call(this,t("buffer").Buffer)},{buffer:2,"kind-of":15}],ActionManager:[function(t,e,i){"use strict";cc._RF.push(e,"c01715jbLBLCrEbEBT6/3br","ActionManager"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./action/AddToStage"),r=t("./action/CCAnimation"),o=t("../action_play/action/ColorTo"),a=t("./action/Delay"),s=t("./action/DrawDottedLine"),u=t("../action_play/action/FadeIn"),c=t("../action_play/action/FadeOut"),d=t("./action/FadeTo"),l=t("../action_play/action/MoveBy"),h=t("../action_play/action/MoveTo"),p=t("../action_play/sequence/ParallelSequence"),f=t("./action/PlayAudio"),_=t("./action/RemoveFromStage"),y=t("../action_play/action/ScaleBy"),v=t("../action_play/action/ScaleTo"),g=t("../action_play/sequence/SerialSequence"),m=t("./action/SetString"),b=t("./action/SetVariable"),w=t("./action/SizeTo");i.default={addToStage:function(t,e){return new n.default(t,e)},ccAnimation:function(t,e,i,n,o){return new r.default(t,e,i,n,o)},colorTo:function(t,e,i){return new o.default(t,e,i)},delay:function(t){return new a.default(t)},drawDottedLine:function(t,e,i,n,r){return new s.default(t,e,i,n,r)},fadeIn:function(t,e){return new u.default(t,e)},fadeOut:function(t,e){return new c.default(t,e)},fadeTo:function(t,e,i){return new d.default(t,e,i)},parallelSequence:function(t){return new p.default(t)},playAudio:function(t){return new f.default(t)},moveTo:function(t,e,i){return new h.default(t,e,i)},moveToX:function(t,e,i){var n=t.position;return n.x=e,new h.default(t,n,i)},moveToY:function(t,e,i){var n=t.position;return n.y=e,new h.default(t,n,i)},moveBy:function(t,e,i){return new l.default(t,e,i)},moveByX:function(t,e,i){var n=new cc.Vec2(e,0);return new l.default(t,n,i)},moveByY:function(t,e,i){var n=new cc.Vec2(0,e);return new l.default(t,n,i)},removeFromStage:function(t){return new _.default(t)},scaleTo:function(t,e,i){return new v.default(t,e,i)},scaleToX:function(t,e,i){var n=t.scaleY,r=new cc.Vec2(e,n);return new v.default(t,r,i)},scaleToY:function(t,e,i){var n=t.scaleX,r=new cc.Vec2(n,e);return new v.default(t,r,i)},scaleBy:function(t,e,i){return new y.default(t,e,i)},scaleByX:function(t,e,i){var n=new cc.Vec2(e,0);return new y.default(t,n,i)},scaleByY:function(t,e,i){var n=new cc.Vec2(0,e);return new y.default(t,n,i)},sizeTo:function(t,e,i){return new w.default(t,e,i)},setString:function(t,e,i){return void 0===i&&(i=0),new m.default(t,e,i)},setVariable:function(t,e,i){return new b.default(t,e,i)},serialSequence:function(t){return new g.default(t)}},cc._RF.pop()},{"../action_play/action/ColorTo":"ColorTo","../action_play/action/FadeIn":"FadeIn","../action_play/action/FadeOut":"FadeOut","../action_play/action/MoveBy":"MoveBy","../action_play/action/MoveTo":"MoveTo","../action_play/action/ScaleBy":"ScaleBy","../action_play/action/ScaleTo":"ScaleTo","../action_play/sequence/ParallelSequence":"ParallelSequence","../action_play/sequence/SerialSequence":"SerialSequence","./action/AddToStage":"AddToStage","./action/CCAnimation":"CCAnimation","./action/Delay":"Delay","./action/DrawDottedLine":"DrawDottedLine","./action/FadeTo":"FadeTo","./action/PlayAudio":"PlayAudio","./action/RemoveFromStage":"RemoveFromStage","./action/SetString":"SetString","./action/SetVariable":"SetVariable","./action/SizeTo":"SizeTo"}],Action:[function(t,e,i){"use strict";cc._RF.push(e,"09de24A4ExFgb2rLpBIQ5G2","Action"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t){this._duration=0,this.target=void 0,this.easeType=void 0,this.target=t}return t.prototype.easing=function(t){return this.easeType=t,this},Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},set:function(t){this._duration=t},enumerable:!0,configurable:!0}),t}();i.default=n,cc._RF.pop()},{}],AddOnData:[function(t,e,i){"use strict";cc._RF.push(e,"9e8f0BUM/pARqklE9jRePwJ","AddOnData"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],AddToStage:[function(t,e,i){"use strict";cc._RF.push(e,"4892c3FYxJLYL/9N05NnGd4","AddToStage"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(t){function e(e,i){var n=t.call(this,e)||this;return n._parent=void 0,n._parent=i,n}return __extends(e,t),e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this.target.parent=this._parent,[2]})})},e.prototype.reverse=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this.target.parent=void 0,this.target=void 0,[2]})})},e}(t("../base/Action").default);i.default=n,cc._RF.pop()},{"../base/Action":"Action"}],CCAnimation:[function(t,e,i){"use strict";cc._RF.push(e,"20c6faFy4hDgYycO9HkVQbP","CCAnimation"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../base/Action"),r=t("./Delay"),o=function(t){function e(e,i,n,r,o){var a=t.call(this,e)||this;return a._fClip=void 0,a._rClip=void 0,a._animation=void 0,a._fWrapMode=void 0,a._rWrapMode=void 0,a._fClip=i,a._rClip=r,a._fWrapMode=n,a._rWrapMode=o,a._animation=e.getComponent(cc.Animation),a.duration=a._animation.getClips().filter(function(t){return t.name==i||t.name==r}).max(function(t){return t.duration}).duration,a}return __extends(e,t),e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return this._animation.stop(),t=this._animation.play(this._fClip),this._fWrapMode?t.wrapMode=this._fWrapMode:(t.wrapMode=cc.WrapMode.Default,this._fWrapMode=t.wrapMode),[4,new r.default(this.duration).play()];case 1:return e.sent(),[2]}})})},e.prototype.reverse=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(i){switch(i.label){case 0:if(this._animation.stop(),t=void 0,this._rClip)e=this._animation.play(this._rClip),this._rWrapMode?e.wrapMode=this._rWrapMode:e.wrapMode=cc.WrapMode.Default;else switch(t=this._animation.play(this._fClip),this._fWrapMode){case cc.WrapMode.Reverse:t.wrapMode=cc.WrapMode.Normal;break;case cc.WrapMode.Normal:case cc.WrapMode.Default:t.wrapMode=cc.WrapMode.Reverse;break;case cc.WrapMode.PingPong:t.wrapMode=cc.WrapMode.PingPongReverse;break;case cc.WrapMode.PingPongReverse:t.wrapMode=cc.WrapMode.PingPong}return[4,new r.default(this.duration).play()];case 1:return i.sent(),[2]}})})},e}(n.default);i.default=o,cc._RF.pop()},{"../base/Action":"Action","./Delay":"Delay"}],CaptionCreator:[function(t,e,i){"use strict";cc._RF.push(e,"96452oJ8bhJULLIccRd7WLY","CaptionCreator"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../common/util/MathUtil"),r=t("./data/DivisionVerticalData"),o=function(){function t(){this.captions=new Array,this.dubTxt=new Array,this.isAutoPlayArr=[],this.metaData=new r.DecimalDivVerticalMetaData(0,0)}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.init=function(t,e){this.dubTxt.clear(),this.isAutoPlayArr.clear();t.toString().split(""),e.toString().split("");var i=n.default.correctFloat(t/e),o=t,a=0,s=0,u=!1,c=0,d=!1;-1!=t.toString().indexOf(".")&&(d=!0),this.metaData=new r.DecimalDivVerticalMetaData(t,e),this.metaData.init();var l=this.metaData;if(this.add("[n2]"+t+"[p0]\u9664\u4ee5"+e+"[p0]\u662f\u591a\u5c11\uff1f[p500]\u8fd9\u9053\u9898[p0]\u6211\u4eec\u7528\u7ad6\u5f0f\u8bb2\u89e3[p500]"),-1!=e.toString().indexOf(".")){var h=e.toString().length-1-Math.floor(e).toString().length,p=n.default.correctFloat(Math.pow(10,h));o=t=n.default.correctFloat(t*p),e=n.default.correctFloat(e*p),t.toString().split(""),e.toString().split(""),this.add("\u6211\u4eec\u53d1\u73b0[p0]\u9664\u6570\u7684\u5c0f\u6570\u70b9\u540e\u9762\u6709"+h+"\u4f4d\u5c0f\u6570[p0]\u6839\u636e\u5546\u4e0d\u53d8\u539f\u7406,"),l.watchNumber(-h),this.add("\u6211\u4eec\u53ef\u4ee5\u628a\u88ab\u9664\u6570\u548c\u9664\u6570\u540c\u65f6\u6269\u5927"+p+"\u500d[p0]\u4e5f\u5c31\u662f\u628a\u5c0f\u6570\u70b9"),this.add("\u540c\u65f6\u5411\u53f3\u79fb\u52a8"+h+"\u4f4d,\u5546\u7684\u5927\u5c0f\u4e0d\u53d8,"),l.boost(h),this.add("\u4e8e\u662f\u7b97\u5f0f\u5c31\u53d8\u6210\u4e86"+t+"[p0]\u9664\u4ee5"+e+"[p0]\uff0c\u8fd9\u4e2a\u8be5\u600e\u4e48\u7b97\u5462")}var f=Number(String(t).substring(0,e.toString().length)),_=String(e).length;if(f<e)if(Math.floor(t)<e){var y=String(Math.floor(t)).length;this.add(("\u9996\u5148\u6765\u770b\u88ab\u9664\u6570\u7684\u524d"+y+"\u4f4d,").replace("\u524d1\u4f4d","\u6700\u9ad8\u4f4d")),l.watchNumber(y),this.add(Math.floor(t)+"\u9664\u4ee5"+e+"[p0]\u4e0d\u591f\u55461[p0]"),this.add("\u6211\u4eec\u5728\u4e2a\u4f4d\u55460[p0]"),l.quotient("0"),a=y+1,t.toString().replace(".","").length<a?(this.add("\u63a5\u4e0b\u6765\u6211\u4eec\u600e\u4e48\u529e\u5462[p0]"),l.watchNumber(a),this.pause()):(this.add("\u7136\u540e\u518d\u770b\u524d"+a+"\u4f4d"),l.watchNumber(a)),c=a}else this.add(("[p0]\u6211\u4eec\u5148\u770b\u88ab\u9664\u6570\u7684\u524d"+_+"\u4f4d,\u524d"+_+"\u4f4d\u4e0d\u591f\u9664[p100]").replace(/\u524d1\u4f4d/g,"\u6700\u9ad8\u4f4d")),l.watchNumber(_),a=_+1,this.add("\u6211\u4eec\u518d\u6765\u770b\u524d"+a+"\u4f4d"),l.watchNumber(a),c=a;else a=_,this.add(("\u9996\u5148\u6765\u770b\u524d"+a+"\u4f4d").replace("\u524d1\u4f4d","\u6700\u9ad8\u4f4d")),l.watchNumber(a),c=a;s=a-String(Math.floor(t)).length;for(var v=n.default.correctFloat(Math.pow(.1,s)),g=0,m=0;o>0;){u&&d||(Math.floor(o).toString().length<a&&(d||(d=!0,this.add("\u6839\u636e\u5c0f\u6570\u7684\u57fa\u672c\u6027\u8d28[p0]\u5c0f\u6570\u7684\u672b\u5c3e\u52a00\u4e0d\u4f1a\u5f71\u54cd\u5b83\u7684\u5927\u5c0f"),this.add("\u6211\u4eec\u5148\u5728\u88ab\u9664\u6570\u7684\u672b\u5c3e\u52a0\u5c0f\u6570\u70b9[p0]"),l.addDot(),this.add("\u518d\u52a0\u4e0a0[p0]"),g++,l.addZero(),m>0&&(this.add("\u7136\u540e\u628a0\u5199\u4e0b\u6765[p0]"),l.drop(0)),this.add("\u5c31\u53d8\u6210\u4e86[p0]"+n.default.correctFloat(o/v)+"\u4e2a"+v+"[p500]"))),u||v<1&&(this.add(("\u6ce8\u610f[p0]\u8fd9"+a+"\u4f4d\u7684\u4e2d\u95f4[p0]\u6709\u5c0f\u6570\u70b9[p500]\u6211\u4eec\u5148\u5728\u7ed3\u679c\u4e0a\u5199\u4e0a\u5c0f\u6570\u70b9[p0]\u7136\u540e\u7ee7\u7eed\u7b97[p0]").replace("\u8fd91\u4f4d\u7684\u4e2d\u95f4","\u8fd91\u4f4d\u7684\u524d\u9762")),l.quotient("."),u=!0));var b=Math.floor(n.default.correctFloat(o/v));if(b<e)0==b?this.add("\u60f3\u4e00\u60f3,"+e+"\u4e58\u591a\u5c11[p0]\u7b49\u4e8e0"):this.add("\u60f3\u4e00\u60f3,"+e+"\u4e58\u591a\u5c11[p0]\u5c0f\u4e8e"+b+"[p0]\u8bb0\u5f97\u8981\u586b\u6700\u5927\u7684\u6574\u6570[p500]"),l.question(e,b),this.pause(),this.add("\u7b54\u6848\u662f0"),l.quotient("0");else{l.question(e,b),b%e==0?this.add("\u60f3\u4e00\u60f3[p0]"+e+"\u4e58\u591a\u5c11[p0]\u7b49\u4e8e"+b+"[p500]"):this.add("\u60f3\u4e00\u60f3[p0]"+e+"\u4e58\u591a\u5c11[p0]\u5c0f\u4e8e"+b+"[p0]\u8bb0\u5f97\u8981\u586b\u6700\u5927\u7684\u6574\u6570[p500]");var w=Math.floor(b/e);if(this.pause(),this.add("\u7b54\u6848\u662f"+w+"[p0]"),l.answer(w,s),this.add("\u6211\u4eec\u628a[p0]"+w+"\u4e58"+e+"\u7684\u7ed3\u679c[p0]"+n.default.correctFloat(w*e)+"[p0]\u5199\u5728"+b+"\u7684\u4e0b\u9762[p500]"),l.writeResult(n.default.correctFloat(w*e)),0==(o=n.default.correctFloat(o-n.default.correctFloat(w*e*v)))){for(this.add(b+"\u51cf"+n.default.correctFloat(w*e)+"[p0]"),this.add("\u7b49\u4e8e0[p500]"),l.resetDrop(0),s<0&&this.add("\u628a\u88ab\u9664\u6570\u7684\u96f6\u5199\u5728\u7ed3\u679c\u4e0a");s<0;)l.quotient("0"),s++;break}var A=b-n.default.correctFloat(w*e);this.add(b+"\u51cf"+n.default.correctFloat(w*e)+"[p0]"),this.add("\u7b49\u4e8e"+A+"[p0]"),l.resetDrop(A),Number(o.toString().replace(".",""))/e<1&&this.add("\u5269\u4e0b"+A+"\u4e2a"+v+",\u600e\u4e48\u529e?"),m++}s++,v=parseFloat(Math.pow(.1,s).toPrecision(12)),a=String(Number(o.toString().replace(/^0*/,"").replace(".","").concat("00000000000").substring(0,o.toString().replace(/^0*/,"").concat(".").indexOf(".")+s))).length;var S=Math.floor(n.default.correctFloat(o/v));if(Number(o.toString().replace(".",""))/e<1){if(!d)continue;this.add("\u6839\u636e\u5c0f\u6570\u7684\u57fa\u672c\u6027\u8d28[p0]"),0==g&&this.add("\u5c0f\u6570\u7684\u672b\u5c3e\u52a00\u4e0d\u4f1a\u5f71\u54cd\u5b83\u7684\u5927\u5c0f"),l.addZero(),0==g?this.add("\u6211\u4eec\u5728\u88ab\u9664\u6570\u7684\u672b\u5c3e\u52a0\u4e0a0[p0]"):this.add("\u6211\u4eec\u53ef\u4ee5\u7ee7\u7eed\u5728\u672b\u5c3e\u52a00[p0]"),m>0?this.add("\u518d\u628a0\u5199\u4e0b\u6765[p0]\u5c31\u53d8\u6210\u4e86[p0]"+S+"\u4e2a"+v):(c++,l.watchNumber(c),this.add("\u63a5\u7740\u770b\u524d"+c+"\u4f4d[p500]")),g++,l.drop(0)}else m>0?(this.add("\u628a"+S%10+"\u5199\u4e0b\u6765\u5c31\u53d8\u6210\u4e86[p0]"+S+"\u4e2a"+v),l.drop(S%10)):(c++,l.watchNumber(c),this.add("\u63a5\u7740\u770b\u524d"+c+"\u4f4d[p500]"))}this.add("\u5230\u8fd9\u91cc[p0]\u6211\u4eec\u5b8c\u6210\u4e86\u6240\u6709\u7684\u8ba1\u7b97[p500]"),this.add("\u6240\u4ee5\u5546\u662f"+i+"!"),l.finishAnswer(i)},t.prototype.add=function(t){if(this.dubTxt.push(t),this.isAutoPlayArr.push(!0),this.metaData.updateAudioIdx(this.dubTxt.length-1),this.dubTxt.length>100)throw Error("\u6682\u65f6\u53ea\u652f\u6301\u6709\u9650\u4f4d\u5c0f\u6570,\u4e14100\u4f4d\u4ee5\u5185");console.log(t),console.log(this.metaData.dump())},t.prototype.pause=function(){this.isAutoPlayArr[this.dubTxt.length]=!1},t}();i.default=o,cc._RF.pop()},{"../common/util/MathUtil":"MathUtil","./data/DivisionVerticalData":"DivisionVerticalData"}],Caption:[function(t,e,i){"use strict";cc._RF.push(e,"547a0jhKiBBSK92/RztoDN3","Caption"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../action_play/base/Action"),r=t("../../action_play/ActionManager"),o=t("../../action_play/action/Delay"),a=function(t){function e(e,i,n,o){var a=t.call(this,e)||this;a._sequenceAction=void 0,a.duration=2*o;var s=r.default.moveBy(a.target,new cc.Vec2(0,-n),o),u=r.default.moveBy(a.target,new cc.Vec2(0,2*n),0),c=r.default.fadeOut(a.target,o),d=r.default.fadeIn(a.target,o),l=r.default.setString(a.target,i,0),h=r.default.parallelSequence([s,c]),p=r.default.parallelSequence([s,d]);return a._sequenceAction=r.default.serialSequence([h,u,l,p]),a}return __extends(e,t),e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._sequenceAction.play(),[4,new o.default(this._sequenceAction.duration).play()];case 1:return t.sent(),[2]}})})},e.prototype.reverse=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._sequenceAction.reverse(),[4,new o.default(this._sequenceAction.duration).play()];case 1:return t.sent(),[2]}})})},e}(n.default);i.default=a,cc._RF.pop()},{"../../action_play/ActionManager":"ActionManager","../../action_play/action/Delay":"Delay","../../action_play/base/Action":"Action"}],ColorTo:[function(t,e,i){"use strict";cc._RF.push(e,"8f728njE+lPY5z3CWY4h1/E","ColorTo"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../base/Action"),r=t("./Delay"),o=function(t){function e(e,i,n){var r=t.call(this,e)||this;return r._originColor=void 0,r._tagetColor=void 0,r._tagetColor=i,r.duration=n,r}return __extends(e,t),e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var t,e,i,n;return __generator(this,function(o){switch(o.label){case 0:return this._originColor=this.target.color,t=this._tagetColor.getR(),e=this._tagetColor.getG(),i=this._tagetColor.getB(),n=cc.tintTo(this.duration,t,e,i),this.target.runAction(this.easeType?n.easing(this.easeType):n),[4,new r.default(this.duration).play()];case 1:return o.sent(),[2]}})})},e.prototype.reverse=function(){return __awaiter(this,void 0,void 0,function(){var t,e,i,n;return __generator(this,function(o){switch(o.label){case 0:return t=this._originColor.getR(),e=this._originColor.getG(),i=this._originColor.getB(),n=cc.tintTo(this.duration,t,e,i),this.target.runAction(n),[4,new r.default(this.duration).play()];case 1:return o.sent(),[2]}})})},e}(n.default);i.default=o,cc._RF.pop()},{"../base/Action":"Action","./Delay":"Delay"}],CommonUI:[function(t,e,i){"use strict";cc._RF.push(e,"30b3dE/4AhClpQnyyNd5JU9","CommonUI"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../action_play/ActionManager"),r=t("../data/DataLog"),o=t("../util/Utils"),a=t("../util/StepAudioManager"),s=t("../config/Constants"),u=cc._decorator,c=u.ccclass,d=u.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._bg=void 0,e._btnNext=void 0,e._btnPrevious=void 0,e._btnPlay=void 0,e._btnReplay=void 0,e.panelRelay=void 0,e._btnNextCenter=void 0,e._audioBtnClick=void 0,e._enable=!1,e.onNext=void 0,e.onPrevious=void 0,e.onReplay=void 0,e.onStart=void 0,e.stepIndex=0,e.startTs=0,e}var i;return __extends(e,t),i=e,e.prototype.onLoad=function(){if(i.instance=this,this.enable=!1,this._btnNext.active=!1,this._btnPrevious.active=!1,"undefined"!=typeof loadTime&&o.default.sendLog({res_load:loadTime}),"undefined"==typeof bgmPlaying||!bgmPlaying){var t=cc.Canvas.instance.node.getComponent(cc.AudioSource);t.loop=!0,t.play()}},e.prototype.start=function(){var t=this;this._btnPlay.on(cc.Node.EventType.TOUCH_START,function(e){t.play(),t.logTouchStart(e,"btn_play")}),this._btnPlay.on(cc.Node.EventType.TOUCH_END,function(e){t.LogTouchEnd(e,"btn_play")}),this._btnNext.on(cc.Node.EventType.TOUCH_START,function(e){t._enable?(t.next(),t.logTouchStart(e,"btn_next")):t.logTouchStart(e)}),this._btnNext.on(cc.Node.EventType.TOUCH_END,function(e){t.LogTouchEnd(e,"btn_next")}),this._btnNextCenter.on(cc.Node.EventType.TOUCH_START,function(e){t._enable?(t.next(),t.logTouchStart(e,"btn_next_center")):t.logTouchStart(e)}),this._btnNextCenter.on(cc.Node.EventType.TOUCH_END,function(e){t.LogTouchEnd(e,"btn_next_center")}),this._btnReplay.on(cc.Node.EventType.TOUCH_START,function(e){t._enable?(t._audioBtnClick.play(),t.onReplay&&(t.panelRelay.active=!1,t.onReplay()),t.logTouchStart(e,"btn_replay")):t.logTouchStart(e)}),this._btnReplay.on(cc.Node.EventType.TOUCH_END,function(e){t.LogTouchEnd(e,"btn_replay")}),this._bg.on(cc.Node.EventType.TOUCH_START,function(e){t.logTouchStart(e)}),this._bg.on(cc.Node.EventType.TOUCH_END,function(e){t.LogTouchEnd(e)})},e.prototype.play=function(){this._audioBtnClick.play(),this.node.getChildByName("tip").active=!1,this._btnPlay.active=!1,this._btnNext.active=!0,this.onStart&&this.onStart(),this.startTs=(new Date).getTime(),o.default.sendLog({total_step:a.default.getInstance().originDubTxtArr.length})},Object.defineProperty(e.prototype,"enable",{get:function(){return this._enable},set:function(t){this._enable=t,this._btnNext.active=t},enumerable:!0,configurable:!0}),e.prototype.showReplayButton=function(){return this._btnNext.off(cc.Node.EventType.TOUCH_START),n.default.setVariable(this.panelRelay,"active",!0)},e.prototype.setNextButton=function(t){return n.default.setVariable(this._btnNext,"active",t)},e.prototype.setPreviousButton=function(t){return n.default.setVariable(this._btnPrevious,"active",t)},e.prototype.showGesture=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(i){switch(i.label){case 0:return this._btnNextCenter.active=!0,(t=this._btnNextCenter.getComponent(cc.Animation)).play("show"),[4,n.default.delay(t.currentClip.duration).play()];case 1:return i.sent(),t.play("idle"),(e=new r.default).step=this.stepIndex,e.ts=(new Date).getTime()-this.startTs,e.type="activate_btn ",e.element="btn_next",o.default.sendLog(e),[2]}})})},e.prototype.setStyle=function(t){var e=s.default.CFG_UI_STYLE[t.toString()];if(e){this._btnPlay.color=(new cc.Color).fromHEX(e[0]),this._btnReplay.color=(new cc.Color).fromHEX(e[1]);var i=this.node.getChildByName("tip");i.getChildByName("horn").color=(new cc.Color).fromHEX(e[2]),i.getChildByName("label").color=(new cc.Color).fromHEX(e[3])}},e.prototype.next=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return this.unscheduleAllCallbacks(),this.onNext&&this.onNext(),(t=this._btnNextCenter.getComponent(cc.Animation)).play("boom"),this._audioBtnClick.play(),[4,n.default.delay(t.currentClip.duration).play()];case 1:return e.sent(),this._btnNextCenter.active=!1,[2]}})})},e.prototype.logTouchStart=function(t,e){void 0===e&&(e="");var i=new r.default;i.step=this.stepIndex,i.ts=(new Date).getTime()-this.startTs,i.type="touch_start",i.element=e,i.x=Math.floor(t.getLocationX()),i.y=Math.floor(t.getLocationY()),o.default.sendLog(i)},e.prototype.LogTouchEnd=function(t,e){void 0===e&&(e="");var i=new r.default;i.step=this.stepIndex,i.ts=(new Date).getTime()-this.startTs,i.type="touch_end",i.element=e,i.x=Math.floor(t.getLocationX()),i.y=Math.floor(t.getLocationY()),o.default.sendLog(i)},e.instance=void 0,__decorate([d({type:cc.Node,visible:!0,displayName:"\u900f\u660e\u80cc\u666f\u7528\u4e8e\u68c0\u6d4b\u70b9\u51fb"})],e.prototype,"_bg",void 0),__decorate([d({type:cc.Node,visible:!0,displayName:"\u4e0b\u4e00\u6b65\u6309\u94ae"})],e.prototype,"_btnNext",void 0),__decorate([d({type:cc.Node,visible:!0,displayName:"\u4e0a\u4e00\u6b65\u6309\u94ae"})],e.prototype,"_btnPrevious",void 0),__decorate([d({type:cc.Node,visible:!0,displayName:"\u5f00\u59cb\u6309\u94ae"})],e.prototype,"_btnPlay",void 0),__decorate([d({type:cc.Node,visible:!0,displayName:"\u91cd\u65b0\u64ad\u653e\u6309\u94ae"})],e.prototype,"_btnReplay",void 0),__decorate([d({type:cc.Node,visible:!0,displayName:"\u91cd\u65b0\u64ad\u653e\u9762\u677f"})],e.prototype,"panelRelay",void 0),__decorate([d({type:cc.Node,visible:!0,displayName:"\u653e\u5728\u4e2d\u95f4\u7684\u4e0b\u4e00\u6b65\u6309\u94ae"})],e.prototype,"_btnNextCenter",void 0),__decorate([d({type:cc.AudioSource,visible:!0,displayName:"\u6309\u94ae\u58f0\u97f3"})],e.prototype,"_audioBtnClick",void 0),e=i=__decorate([c],e)}(cc.Component);i.default=l,cc._RF.pop()},{"../action_play/ActionManager":"ActionManager","../config/Constants":"Constants","../data/DataLog":"DataLog","../util/StepAudioManager":"StepAudioManager","../util/Utils":"Utils"}],ComponentManager:[function(t,e,i){"use strict";cc._RF.push(e,"92adbspIABHT7dvJCndOXMa","ComponentManager"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../action_play/ActionManager"),r=t("./complex_action/Caption");i.default={caption:function(t,e,i,n){return void 0===i&&(i=40),void 0===n&&(n=.4),new r.default(t,e,i,n)},scaleHighLight:function(t,e,i,r){void 0===e&&(e=1),void 0===i&&(i=.2),void 0===r&&(r=new cc.Vec2(1.2,1.2));for(var o=new cc.Vec2(t.scaleX,t.scaleY),a=[],s=0;s<e;s++)a.pushRange([n.default.scaleTo(t,r,i/2),n.default.scaleTo(t,o,i/2)]);return n.default.serialSequence(a)},opacityHighLight:function(t,e){void 0===e&&(e=.3);var i=t.opacity;return n.default.serialSequence([n.default.fadeTo(t,255,e/2),n.default.delay(.5),n.default.fadeTo(t,i,e/2)])}},cc._RF.pop()},{"../action_play/ActionManager":"ActionManager","./complex_action/Caption":"Caption"}],Constants:[function(t,e,i){"use strict";cc._RF.push(e,"5186dM2Ei5KmJSGG65QB4Hn","Constants"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){}return t.URL_API="https://tts.mathufo.com/tts",t.URL_CDN_SOUND="https://cdn.mathufo.com/sound/",t.ERROR_TTS_TIMEOUT="error_tts_timeout",t.CFG_UI_STYLE={34:["#d386d0","#d386d0","#d386d0","#d386d0"],36:["#d386d0","#d386d0","#d386d0","#d386d0"],11:["#82cbfa","#82cbfa","#82cbfa","#82cbfa"],17:["#82cbfa","#82cbfa","#82cbfa","#82cbfa"],24:["#82cbfa","#82cbfa","#82cbfa","#82cbfa"],33:["#82cbfa","#82cbfa","#82cbfa","#82cbfa"],32:["#d386d0","#d386d0","#d386d0","#d386d0"],13:["#63cdff","#63cdff","#FFFFFF","#FFFFFF"],16:["#ffc018","#ffc000","#ffc018","#ffc018"],23:["#4fdfe1","#1e9ed9","#3bd4d6","#3bd4d6"],30:["#289bfc","#367a79","#569ec1","#569ec1"],31:["#54ac7d","#54ac7d","#54ac7d","#54ac7d"],37:["#ff5c41","#ff5c41","#ff5c41","#ff5c41"],25:["#9a84f7","#a054e1","#9a84f7","#9a84f7"],27:["#00e38b","#e33500","#22dd7a","#22dd7a"],28:["#f7b400","#eb5715","#312100","#312100"],19:["#659BFE","#63CDFF","#D3E3DC","#D3E3DC"],21:["#659BFE","#63CDFF","#D3E3DC","#D3E3DC"],26:["#f95973","#ff506d","#f9596c","#f9596c"],9:["#35b584","#35b584","#197b55","#197b55"],29:["#54ac7d","#54ac7d","#54ac7d","#54ac7d"],12:["#ff7246","#ff7246","#ff7246","#ff7246"],18:["#33dcd3","#f5a72c","#42b8b2","#42b8b2"],10:["#4bc0cb","#19b44c","#4bc0cb","#4bc0cb"],14:["#83D7FD","#04BBFF","#FFFFFF","#FFFFFF"],22:["#FFE579","#04BBFF","#FFFFFF","#FFFFFF"],20:["#FFE579","#04BBFF","#FFFFFF","#FFFFFF"],35:["#d386d0","#d386d0","#d386d0","#d386d0"],39:["#eab24e","#5e39d9","#eab24e","#eab24e"],40:["#f18337","#39c37e","#f18337","#f18337"],41:["#38d980","#38da80","#22aa78","#22aa78"],42:["#f26f3e","#f26f3e","#f26f3e","#f26f3e"],43:["#668cee","#668cee","#668cee","#668cee"],44:["#f18337","#39c37e","#f18337","#f18337"],45:["#458f9b","#306076","#458f9b","#458f9b"],46:["#715739","#c49706","#715739","#715739"],47:["#b5e6ff","#8f80ff","#3c8ab1","#3c8ab1"],48:["#08979f","#a8eb61","#08979f","#08979f"],49:["#f26f3e","#f25f1d","#f26f3e","#f26f3e"],50:["#f26f3e","#f25f1d","#f26f3e","#f26f3e"]},t}();i.default=n,cc._RF.pop()},{}],DataLog:[function(t,e,i){"use strict";cc._RF.push(e,"432e57lnkVN0aH8ilfpnexy","DataLog"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){return function(){}}();i.default=n,cc._RF.pop()},{}],Delay:[function(t,e,i){"use strict";cc._RF.push(e,"fff63MOat1NnprzbqZ60uot","Delay"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(t){function e(e){var i=t.call(this,void 0)||this;return i.duration=e,i}return __extends(e,t),e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){return[2,new Promise(function(e,i){cc.director.getScheduler().schedule(e,cc.Canvas.instance.node,t.duration,!1)})]})})},e.prototype.reverse=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){return[2,new Promise(function(e,i){setTimeout(e,1e3*t.duration)})]})})},e}(t("../base/Action").default);i.default=n,cc._RF.pop()},{"../base/Action":"Action"}],DivisionVerticalData:[function(t,e,i){"use strict";cc._RF.push(e,"cd811BSEx1MRIQBHUk9Zrr3","DivisionVerticalData"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./VerticalMetaData"),r=t("../../common/util/MathUtil"),o=t("./MetaData"),a=t("clone-deep"),s=function(t){function e(e,i){var n=t.call(this)||this;return n.divisor=0,n.dividend=0,n.ret=0,n.index=0,n.divisorArr=[],n.dividend=e,n.divisor=i,n.ret=r.default.correctFloat(e/i),n}return __extends(e,t),e.prototype.init=function(){this.pushRow(o.InitArray(this.width)),this.pushRow(o.InitArray(this.width,this.width-this.divisor.toString().length,this.divisor.toString().split(""))),this.pushRow(o.InitArray(this.width,0,this.dividend.toString().split(""))),this.divisorArr=this.divisor.toString().split(""),this.index=this.width-this.ret.toString().length,this.next()},e.prototype.getAddonData=function(){return this.addonData},e.prototype.setAddonData=function(t){this.addonData=t},e.prototype.clone=function(){var t=new e(this.dividend,this.divisor);return t.setData(a(this.getData())),t.width=this.width,t.audioIdx=this.audioIdx,t.addonData=a(this.addonData),t},e}(n.default);i.DivisionVerticalMetaData=s;var u=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.width=e.toString().length,n}return __extends(e,t),e}(s);i.IntegerDivVerticalMetaData=u;var c=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.dotIndex=0,n.updateWidth(),n}return __extends(e,t),e.prototype.clone=function(){var t=new e(this.dividend,this.divisor);return t.setData(a(this.getData())),t.width=this.width,t.audioIdx=this.audioIdx,t.dotIndex=this.dotIndex,t.addonData=a(this.addonData),t},e.prototype.updateWidth=function(){this.ret=r.default.correctFloat(this.dividend/this.divisor);var t=Math.max(r.default.correctFloat(this.ret-Math.floor(this.ret)).toString().length,r.default.correctFloat(this.dividend-Math.floor(this.dividend)).toString().length),e=Math.max(Math.floor(this.dividend),Math.floor(this.ret)).toString().length;this.width=Math.max(t+e-1,this.divisor.toString().length),this.dotIndex=Math.floor(this.dividend).toString().length,1==t&&(this.dotIndex=-1)},e.prototype.boost=function(t){var e=r.default.correctFloat(Math.pow(10,t));this.dividend=r.default.correctFloat(this.dividend*e),this.divisor=r.default.correctFloat(this.divisor*e),this.updateWidth(),this.index=this.width-this.ret.toString().length,this.divisorArr=(""+this.divisor).split(""),this.updateRow(0,o.InitArray(this.width)),this.updateRow(1,o.InitArray(this.width,this.width-this.divisor.toString().length,this.divisor.toString().split(""))),this.updateRow(2,o.InitArray(this.width,0,this.dividend.toString().split(""))),this.next()},e.prototype.quotient=function(t,e){void 0===e&&(e=!1),this.getRow(0)[this.index]=t,this.index++,e||this.next()},e.prototype.addDot=function(){var t=this.getRow(2);t[t.indexOf(" ")]=".",this.next()},e.prototype.addZero=function(){var t=this.getRow(2);t[t.indexOf(" ")]="0",this.next()},e.prototype.resetDrop=function(t){var e=this.getLastRow(),i=t.toString().split("");e.splice.apply(e,[this.index-i.length+0,i.length].concat(i)),-1!=this.dotIndex&&"."!=e[this.dotIndex]&&" "!=e[this.dotIndex]&&(e.splice(this.dotIndex+1,0,"."),e.splice(0,1)),this.next()},e.prototype.drop=function(t){var e=this.getLastRow(),i=t.toString().split(""),n=e.indexOf(" ",this.index);e.splice.apply(e,[n,i.length].concat(i)),-1!=this.dotIndex&&"."!=e[this.dotIndex]&&" "!=e[this.dotIndex]&&" "!=e[this.dotIndex-1]&&(e.pop(),e.splice(this.dotIndex,0,".")),this.next()},e.prototype.watchNumber=function(t){var e={};e.watchNum=t,this.setAddonData(e),this.next()},e.prototype.question=function(t,e){var i={};i.divisor=t,i.result=e,this.setAddonData(i),this.next()},e.prototype.answer=function(t,e){if(this.quotient(t.toString(),0==t),0!=t){var i=this.getAddonData();i.multiplier=t,i.ignore=!0,this.setAddonData(i);var n=r.default.correctFloat(t*this.divisor).toString().split("");-1!=this.dotIndex&&(e=this.index-this.dotIndex)>0&&n.length-e+1>0&&n.splice(n.length-e+1,0,".");var a=o.InitArray(this.width,this.index-n.length,n);this.pushRow(a),this.pushRow(o.InitArray(this.width)),this.next()}},e.prototype.writeResult=function(t){var e=this.getAddonData();e.product=t,this.setAddonData(e),this.next()},e.prototype.finishAnswer=function(t){var e=this.getAddonData();e.finishAnswer=t,this.setAddonData(e),this.next()},e}(s);i.DecimalDivVerticalMetaData=c,cc._RF.pop()},{"../../common/util/MathUtil":"MathUtil","./MetaData":"MetaData","./VerticalMetaData":"VerticalMetaData","clone-deep":5}],DottedLine:[function(t,e,i){"use strict";cc._RF.push(e,"dc197QtQwZB+6TgX56G2tNo","DottedLine"),Object.defineProperty(i,"__esModule",{value:!0});var n,r,o,a=t("../action_play/ActionManager"),s=cc._decorator,u=s.ccclass,c=s.property;(function(t){t[t.Fadeout=0]="Fadeout",t[t.EndToStart=1]="EndToStart"})(n=i.DottedLineEraseAnimationType||(i.DottedLineEraseAnimationType={})),function(t){t[t.FadeIn=0]="FadeIn",t[t.StartToEnd=1]="StartToEnd"}(r=i.DottedLineDrawAnimationType||(i.DottedLineDrawAnimationType={})),function(t){t[t.RightAngle=0]="RightAngle",t[t.BendAngle=1]="BendAngle"}(o=i.CornerType||(i.CornerType={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._prefabDot=void 0,e._gap=6,e._speed=1,e._fadeTime=.3,e._positions=new Array,e._lineLens=new Array,e._dots=new Array,e._currentPosition=void 0,e._isDrawing=!1,e._isErasing=!1,e._hasDot=!0,e._heads=new Array,e.cornerType=o.BendAngle,e}return __extends(e,t),e.prototype.draw=function(t,e,i,n){return void 0===e&&(e=r.StartToEnd),void 0===i&&(i=void 0),void 0===n&&(n=1),__awaiter(this,void 0,void 0,function(){var s,u,c,d,l,h,p,f,_,y,v,g=this;return __generator(this,function(m){switch(m.label){case 0:if(this.node.opacity=0,this._dots.forEach(function(t){t.parent=void 0,t=void 0}),this.node.opacity=255,this._positions=t.clone(),e!=r.StartToEnd)return[3,2];for(this._heads=i,this._currentPosition=this._positions[0].clone(),this._isDrawing=!0,this._lineLens=new Array,s=0,d=0;d<this._positions.length-1;d++)l=this._positions[d].clone(),h=this._positions[d+1].clone(),p=h.sub(l),f=p.mag(),this._lineLens.push(f),s+=f;return void 0==this._heads&&(this._heads=new Array,v=new cc.Node,this.node.parent.addChild(v),v.position=this._positions[0].clone(),this._heads.push(v)),this._heads.forEach(function(t){for(var e=new Array,i=0;i<g._lineLens.length;i++){var r=n*g._lineLens[i]/s,o=cc.moveTo(r,g._positions[i+1].clone());e.push(o)}if(e.length>1){var a=cc.sequence(e).easing(cc.easeQuadraticActionInOut());t.runAction(a)}else t.runAction(e[0].easing(cc.easeQuadraticActionInOut()))}),[4,a.default.delay(n).play()];case 1:return m.sent(),[3,3];case 2:for(u=this._positions[0],c=!1,d=0;d<this._positions.length-1;d++)for(l=this._positions[d],u=l.clone(),h=this._positions[d+1],p=h.sub(l),f=p.mag(),_=p.normalize().mul(this._gap),y=0;y<f;y+=this._gap)this.cornerType==o.BendAngle&&this.isCorner(u)&&(c=!1),c&&(v=cc.instantiate(this._prefabDot),this.node.addChild(v),v.position=u,a.default.fadeIn(v,this._fadeTime).play(),this._dots.push(v)),u.addSelf(_),c=!c;return[2];case 3:return[2]}})})},e.prototype.erase=function(t,e){return void 0===t&&(t=n.Fadeout),void 0===e&&(e=1),__awaiter(this,void 0,void 0,function(){var i,r,o=this;return __generator(this,function(s){switch(s.label){case 0:switch(t){case n.Fadeout:return[3,1];case n.EndToStart:return[3,3]}return[3,5];case 1:return i=[],this._dots.forEach(function(t){i.push(a.default.fadeOut(t,o._fadeTime/e))}),[4,a.default.parallelSequence(i).play()];case 2:return s.sent(),this._dots.forEach(function(t){t.parent=void 0}),this._dots.clear(),[3,5];case 3:return this._currentPosition=this._positions.last().clone(),this._isErasing=!0,r=0,this._heads.forEach(function(t){for(var e=new Array,i=o._lineLens.length-1;i>=0;i--){var n=o._lineLens[i]*o._speed;r+=n;var a=cc.moveTo(n/1e3,o._positions[i].clone());e.push(a)}if(e.length>1){var s=cc.sequence(e).easing(cc.easeQuadraticActionInOut());t.runAction(s)}else t.runAction(e[0].easing(cc.easeQuadraticActionInOut()))}),[4,a.default.delay(r).play()];case 4:return s.sent(),[3,5];case 5:return[2]}})})},e.prototype.update=function(){if(this._isDrawing){if(this._currentPosition.sub(this._positions.last()).mag()<this._gap)return void(this._isDrawing=!1);var t=(a=this._heads[0]).position.sub(this._currentPosition),e=t.mag();if(e<this._gap)return;for(var i=t.normalize().mul(this._gap),n=0;n<e-this._gap;n+=this._gap){if(this.cornerType==o.BendAngle&&this.isCorner(this._currentPosition)&&(this._hasDot=!1),this._hasDot){var r=cc.instantiate(this._prefabDot);this.node.addChild(r),r.position=this._currentPosition,this._dots.push(r)}this._currentPosition.addSelf(i),this._hasDot=!this._hasDot}}if(this._isErasing){var a;if((a=this._heads[0]).position.sub(this._positions[0]).mag()<this._gap)return this._dots.forEach(function(t){t.active=!1,t.parent=void 0}),void(this._isErasing=!1);var s=Math.floor(a.position.sub(this._currentPosition).mag()/(2*this._gap));for(n=0;n<s;n++){var u=this._dots.last();this._currentPosition=u.position,this._dots.remove(u),u.active=!1,u.parent=void 0}}},e.prototype.isCorner=function(t){if(this._positions.length<=2)return!1;for(var e=1;e<this._positions.length-2;e++)if(this._positions[e].sub(t).mag()<this._gap)return!0;return!1},__decorate([c({type:cc.Prefab,visible:!0,displayName:"\u865a\u7ebf\u5706\u70b9\u9884\u5236\u4f53"})],e.prototype,"_prefabDot",void 0),__decorate([c({type:cc.Integer,visible:!0,displayName:"\u865a\u7ebf\u95f4\u8ddd"})],e.prototype,"_gap",void 0),__decorate([c({type:cc.Integer,visible:!0,displayName:"\u865a\u7ebf\u7ed8\u5236\u901f\u5ea6-pix/ms"})],e.prototype,"_speed",void 0),__decorate([c({type:cc.Float,visible:!0,displayName:"\u6de1\u5165\u6de1\u51fa\u65f6\u95f4-s"})],e.prototype,"_fadeTime",void 0),e=__decorate([u],e)}(cc.Component);i.default=d,cc._RF.pop()},{"../action_play/ActionManager":"ActionManager"}],DragableObject:[function(t,e,i){"use strict";cc._RF.push(e,"67171vSttFHYZQn0MC3HNbp","DragableObject"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator.ccclass,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dragable=!1,e._boundaryOffset=50,e.isDragging=!1,e.id=0,e.onDragEnd=void 0,e.onDragBegin=void 0,e}var i;return __extends(e,t),i=e,e.prototype.setDragable=function(t){this.dragable=t},e.prototype.start=function(){this.id=i.sequence++,this.addEventListener()},e.prototype.dragBegin=function(){this.isDragging=!0,this.onDragBegin&&this.onDragBegin()},e.prototype.dragEnd=function(){this.isDragging=!1,this.onDragEnd&&this.onDragEnd()},e.prototype.addEventListener=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(e){t.dragable&&t.dragBegin()}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){if(t.isDragging){var i=e.touch.getDelta();t.node.x+=i.x,t.node.y+=i.y,t.isTransBoundary(e.getLocation())&&t.dragEnd()}}),this.node.on(cc.Node.EventType.TOUCH_END,function(e){t.isDragging&&t.dragEnd()})},e.prototype.isTransBoundary=function(t){var e=this.node.parent.convertToNodeSpaceAR(t),i=cc.winSize.width,n=cc.winSize.height,r=e.x>i/2-this._boundaryOffset||e.x<-i/2+this._boundaryOffset,o=e.y>n/2-this._boundaryOffset||e.y<-n/2+this._boundaryOffset;return!(!r&&!o)},e.sequence=0,e=i=__decorate([n],e)}(cc.Component);i.default=r,cc._RF.pop()},{}],DrawDottedLine:[function(t,e,i){"use strict";cc._RF.push(e,"9674aZb8x5PZ5ipPnB4zt/i","DrawDottedLine"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../base/Action"),r=t("../../component/DottedLine"),o=function(t){function e(e,i,n,r,o){var a=t.call(this,e)||this;return a._points=void 0,a._aniType=void 0,a._headArr=void 0,a._points=i,a._headArr=n,a._aniType=o,a.duration=r,a}return __extends(e,t),e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.target.getComponent(r.default).draw(this._points,this._aniType,this._headArr,this.duration)];case 1:return t.sent(),[2]}})})},e.prototype.reverse=function(t){return void 0===t&&(t=1),__awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,this.target.getComponent(r.default).erase(r.DottedLineEraseAnimationType.Fadeout,t)];case 1:return e.sent(),[2]}})})},e}(n.default);i.default=o,cc._RF.pop()},{"../../component/DottedLine":"DottedLine","../base/Action":"Action"}],DrawLineWithAnimation:[function(t,e,i){"use strict";cc._RF.push(e,"56f74d7HXBOU6EAwYrhMsWL","DrawLineWithAnimation"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./EasyTween");i.default=function(t,e,i){return __awaiter(this,void 0,Promise,function(){var r,o,a,s,u,c,d,l,h,p;return __generator(this,function(f){switch(f.label){case 0:if(!(e instanceof Array))throw new Error("points \u4e0d\u662f\u6570\u7ec4");if(e.length<2)throw new Error("\u81f3\u5c11\u9700\u8981\u63d0\u4f9b2\u4e2a\u70b9");for(r=e[0].x,o=e[0].y,a=function(e,i){t.moveTo(r,o),t.lineTo(e,i),t.stroke(),r=e,o=i},s=function(t,e,i){var r=[t.x,t.y],o=[e.x,e.y];return n.default(r,o,i,function(t,e){a(t,e)})},u=function(t,e){var i=Math.pow(t.x-e.x,2),n=Math.pow(t.y-e.y,2);return Math.sqrt(i+n)},c=0,d=0;d<e.length-1;d++)l=e[d],h=e[d+1],c+=u(l,h);d=0,f.label=1;case 1:return d<e.length-1?(l=e[d],h=e[d+1],p=u(l,h),[4,s(l,h,p/c*i)]):[3,4];case 2:f.sent(),f.label=3;case 3:return d++,[3,1];case 4:return[2]}})})},cc._RF.pop()},{"./EasyTween":"EasyTween"}],DubTxtAnalyzer:[function(t,e,i){"use strict";cc._RF.push(e,"c4c80mUt1dH4LY55w9obwJ0","DubTxtAnalyzer"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t){this._dubTxt=[];for(var e=0;e<t.length;e++){var i=t[e];i=(i=(i=i.replace(/\\uff0c/g,"[p0]")).replace(/\,/g,"[p0]")).replace(/\:/g,"");if(/\[p\d+\]/.exec(i))for(var n=i.split(/\[p\d+\]/),r=0;r<n.length;r++){n[r].length>0&&this._dubTxt.push(n[r])}else i.length>0&&this._dubTxt.push(i)}}return Object.defineProperty(t.prototype,"dubTxt",{get:function(){return this._dubTxt},enumerable:!0,configurable:!0}),t}();i.default=n,cc._RF.pop()},{}],EasyTween:[function(t,e,i){"use strict";cc._RF.push(e,"8b016mfYf1GbY4gMA4PCOWt","EasyTween"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e,i){if(void 0===t||void 0===e||void 0===i)throw new Error("\u53c2\u6570\u4e0d\u6b63\u786e");"number"==typeof t&&"number"==typeof e?(this._initValue=[t],this._targetValue=[e]):(this._initValue=t,this._targetValue=e),this._time=i,this._passTime=0,this.startTween()}return Object.defineProperty(t.prototype,"isRunning",{get:function(){return this._passTime<this._time},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onFrame",{get:function(){return this._onFrame},set:function(t){this._onFrame=t,this._onFrame.apply(this,this._initValue)},enumerable:!0,configurable:!0}),t.prototype.startTween=function(){var t=cc.director.getScheduler();t.enableForTarget(this),t.scheduleUpdate(this,1,!1)},t.prototype.stopTween=function(){cc.director.getScheduler().unscheduleUpdate(this)},t.prototype.stop=function(){!this.isRunning&&this.onComplete&&this.onComplete(),this.stopTween()},t.prototype.update=function(t){var e=[];this._passTime+=1e3*t;for(var i=Math.min(this._passTime/this._time,1),n=this._initValue.length,r=0;r<n;r++){var o=this._initValue[r],a=(this._targetValue[r]-o)*i+o;e.push(a)}this.isRunning&&this.onFrame&&this.onFrame.apply(this,e),i>=1&&this.stop()},t}();i.default=function(t,e,i,r){return new Promise(function(o,a){var s=new n(t,e,i);s.onFrame=r,s.onComplete=o})},cc._RF.pop()},{}],ExtensionDefine:[function(t,e,i){"use strict";cc._RF.push(e,"f5baaaxMxNJ3bJSoOl10Gdm","ExtensionDefine"),cc._RF.pop()},{}],ExtensionImpl:[function(t,e,i){"use strict";function n(t,e){var i=Math.floor(e)-Math.floor(t);return t+Math.floor(Math.random()*i)}function r(){Array.prototype.pushRange=function(t){if(t&&0!=t.length)for(var e=0,i=t;e<i.length;e++){var n=i[e];this.push(n)}},Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]},Array.prototype.contains=function(t){return"function"!=typeof t?this.indexOf(t)>=0:!!this.first(t)},Array.prototype.remove=function(t){var e=this;"function"==typeof t?function(t){for(var i=0;i<e.length;i++)t(e[i])&&(e.splice(i,1),i--)}(t):function(t){var i=e.indexOf(t);i>=0&&e.splice(i,1)}(t)},Array.prototype.removed=function(t){var e=this.clone();return e.remove(t),e},Array.prototype.clear=function(){this.length=0},Array.prototype.first=function(){if(0==arguments.length&&this.length>0)return this[0];for(var t=arguments[0],e=0;e<this.length;e++){var i=this[e];if(t(i))return i}},Array.prototype.last=function(){if(0==arguments.length&&this.length>0)return this[this.length-1];for(var t=arguments[0],e=this.length-1;e>=0;e--)if(t(this[e]))return this[e]},Array.prototype.max=function(){if(0!=this.length){for(var t=arguments.length>0?arguments[0]:function(t){return t},e=this[0],i=t(e),n=1;n<this.length;n++){var r=this[n],o=t(r);o>i&&(i=o,e=r)}return e}},Array.prototype.min=function(){if(0!=this.length){for(var t=arguments.length>0?arguments[0]:function(t){return t},e=this[0],i=t(e),n=1;n<this.length;n++){var r=this[n],o=t(r);o<i&&(i=o,e=r)}return e}},Array.prototype.sum=function(){if(0==this.length)return 0;for(var t=arguments.length>0?arguments[0]:function(t){return t},e=0,i=0;i<this.length;i++){var n=t(this[i]);if("number"!=typeof n)throw new Error("Array.sum \u4e2d\uff0clambda \u9009\u62e9\u7684\u5b57\u6bb5\u4e0d\u662f number \u7c7b\u578b\uff0c\u65e0\u6cd5\u6c42\u548c");e+=n}return e},Array.prototype.select=function(t){return this.map(t)},Array.prototype.where=function(t){return this.filter(t)},Array.prototype.count=function(t){return this.where(t).length},Array.prototype.toDictionary=function(t){for(var e={},i=0;i<this.length;i++){var n=this[i];e[t(n)]=n}return e},Array.prototype.clone=function(){return this.slice(0)},Array.prototype.shuffle=function(){for(var t=0;t<this.length;t++){var e=n(0,this.length),i=this[t];this[t]=this[e],this[e]=i}},Array.prototype.shuffled=function(){var t=this.clone();return t.shuffle(),t},Array.prototype.sortAsc=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];0==t.length&&t.push(function(t){return t}),this.sort(function(e,i){for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o(e)>o(i))return 1;if(o(e)<o(i))return-1}return 0})},Array.prototype.sortedAsc=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this.clone();return i.sortAsc.apply(i,t),i},Array.prototype.sortDesc=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];0==t.length&&t.push(function(t){return t}),this.sort(function(e,i){for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o(e)>o(i))return-1;if(o(e)<o(i))return 1}return 0})},Array.prototype.sortedDesc=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this.clone();return i.sortDesc.apply(i,t),i}}cc._RF.push(e,"5ee81St8IZFTLKWsqwvj0Ne","ExtensionImpl"),Object.defineProperty(i,"__esModule",{value:!0}),i.initExtensions=r,r(),i.default=r,cc._RF.pop()},{}],FadeIn:[function(t,e,i){"use strict";cc._RF.push(e,"fa069ZDVnZJ/7Lo8WblZybU","FadeIn"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../base/Action"),r=t("./Delay"),o=function(t){function e(e,i){var n=t.call(this,e)||this;return n.duration=i,n}return __extends(e,t),e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return t=cc.fadeIn(this.duration),this.target.runAction(this.easeType?t.easing(this.easeType):t),[4,new r.default(this.duration).play()];case 1:return e.sent(),[2]}})})},e.prototype.reverse=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return t=cc.fadeOut(this.duration),this.target.runAction(t),[4,new r.default(this.duration).play()];case 1:return e.sent(),[2]}})})},e}(n.default);i.default=o,cc._RF.pop()},{"../base/Action":"Action","./Delay":"Delay"}],FadeOut:[function(t,e,i){"use strict";cc._RF.push(e,"24a71XhAcRBNKoyFTDjJKIN","FadeOut"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../base/Action"),r=t("./Delay"),o=function(t){function e(e,i){var n=t.call(this,e)||this;return n.target=e,n.duration=i,n}return __extends(e,t),e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return t=cc.fadeOut(this.duration),this.target.runAction(this.easeType?t.easing(this.easeType):t),[4,new r.default(this.duration).play()];case 1:return e.sent(),[2]}})})},e.prototype.reverse=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return t=cc.fadeIn(this.duration),this.target.runAction(t),[4,new r.default(this.duration).play()];case 1:return e.sent(),[2]}})})},e}(n.default);i.default=o,cc._RF.pop()},{"../base/Action":"Action","./Delay":"Delay"}],FadeTo:[function(t,e,i){"use strict";cc._RF.push(e,"e8d79CnkztHDqDeyvGfI1Tm","FadeTo"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../base/Action"),r=t("./Delay"),o=function(t){function e(e,i,n){var r=t.call(this,e)||this;return r._targetOpacity=0,r._originOpacity=0,r.target=e,r._targetOpacity=i,r.duration=n,r}return __extends(e,t),e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return this._originOpacity=this.target.opacity,t=cc.fadeTo(this.duration,this._targetOpacity),this.target.runAction(this.easeType?t.easing(this.easeType):t),[4,new r.default(this.duration).play()];case 1:return e.sent(),[2]}})})},e.prototype.reverse=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return t=cc.fadeTo(this.duration,this._originOpacity),this.target.runAction(t),[4,new r.default(this.duration).play()];case 1:return e.sent(),[2]}})})},e}(n.default);i.default=o,cc._RF.pop()},{"../base/Action":"Action","./Delay":"Delay"}],LayoutUtils:[function(t,e,i){"use strict";cc._RF.push(e,"ba983an2htK3Zx0pJn1h5Tj","LayoutUtils"),Object.defineProperty(i,"__esModule",{value:!0}),i.default={createFormula:function(t,e,i,n){for(var r=[],o=i.x,a=0;a<t.length;a++)for(var s=t[a].split(""),u=0;u<s.length;u++){var c=s[u],d=cc.instantiate(e);d.getComponent(cc.Label).string=c,d.position=new cc.Vec2(o,i.y),o+=d.width+n,r.push(d)}return r},getNodeIndex:function(t,e){for(var i=0;i<t.length;i++)if(t[i].getComponent(cc.Label).string==e)return i;return-1}},cc._RF.pop()},{}],LoaderManger:[function(t,e,i){"use strict";cc._RF.push(e,"f049cdJcsVLuJT37fKZ6LuO","LoaderManger"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.loadExternalAssets=function(t){return new Promise(function(e){var i={},n=[];t.forEach(function(t){var e=cc.loader.getRes(t);e?i[t]=e:n.push(t)}),0==n.length&&e(),cc.loader.load(n,function(t,r){t&&(cc.warn("load assets error",t),e()),n.forEach(function(t){i[t]=r.getContent(t)}),e()})})},t.prototype.loadExternalAsset=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return new Promise(function(e){cc.loader.getRes(t)&&e(),cc.loader.load(t,function(t,i){t&&(cc.warn("load asset error",t),e()),e()})}),[2]})})},t._instance=void 0,t}();i.default=n,cc._RF.pop()},{}],MainBinder:[function(t,e,i){"use strict";cc._RF.push(e,"00da6bzqdZNBaUrm0EXm9/D","MainBinder"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./component/VerticalFormula"),r=cc._decorator,o=r.ccclass,a=r.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.commonUI=void 0,e.commonUIPrefab=void 0,e.inputNode=void 0,e.commonUiHub=void 0,e.answer=void 0,e.bgm=void 0,e.captionTxt=void 0,e.verticalFormula=void 0,e.formula=void 0,e.formulaBg=void 0,e.labelQuestion=void 0,e.fromulaTarget=void 0,e}return __extends(e,t),__decorate([a(cc.Prefab)],e.prototype,"commonUIPrefab",void 0),__decorate([a(cc.Node)],e.prototype,"inputNode",void 0),__decorate([a(cc.Node)],e.prototype,"commonUiHub",void 0),__decorate([a(cc.Label)],e.prototype,"answer",void 0),__decorate([a(cc.AudioSource)],e.prototype,"bgm",void 0),__decorate([a(cc.Node)],e.prototype,"captionTxt",void 0),__decorate([a(n.default)],e.prototype,"verticalFormula",void 0),__decorate([a(cc.Node)],e.prototype,"formula",void 0),__decorate([a(cc.Node)],e.prototype,"formulaBg",void 0),__decorate([a(cc.Label)],e.prototype,"labelQuestion",void 0),__decorate([a(cc.Node)],e.prototype,"fromulaTarget",void 0),e=__decorate([o],e)}(cc.Component);i.default=s,cc._RF.pop()},{"./component/VerticalFormula":"VerticalFormula"}],Main:[function(t,e,i){"use strict";cc._RF.push(e,"d31bdtCYTxBs7GB2YYds97a","Main"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./step/StepManager"),r=t("./view/MainBinder"),o=t("../common/action_play/ActionManager"),a=t("./CaptionCreator"),s=t("../common/util/Utils"),u=t("../common/util/StepAudioManager"),c=t("../common/component/CommonUI"),d=cc._decorator.ccclass,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dividend=346,e.historySteps=[],e.divisor=1,e._stepMgr=void 0,e}var i;return __extends(e,t),i=e,e.getInstance=function(){return this._instance},e.prototype.start=function(){var t=this;i._instance=this;var e=cc.instantiate(this.commonUIPrefab);this.commonUiHub.addChild(e),this.commonUI=e.getComponent(c.default);var n=s.default.getParamFromUrl();if(n.n1&&n.n2){this.inputNode.active=!1;var r=Number(n.n1),o=Number(n.n2),a=r.toString().length<o.toString().length;this.dividend=a?o:r,this.divisor=a?r:o,this.waitForStartup()}else this.inputNode.active=!0,this.inputNode.getChildByName("go").on(cc.Node.EventType.TOUCH_START,function(){t.inputNode.active=!1;var e=t.inputNode.getChildByName("dividend").getComponent(cc.EditBox);t.dividend=Number(e.string);var i=t.inputNode.getChildByName("divisor").getComponent(cc.EditBox);t.divisor=Number(i.string),t.waitForStartup()})},e.prototype.waitForStartup=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return(t=a.default.getInstance()).init(this.dividend,this.divisor),this.historySteps=t.metaData.getHistoryData(),[4,u.default.getInstance().init(t.dubTxt)];case 1:return e.sent(),this.init(),[2]}})})},e.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){var t,e=this;return __generator(this,function(i){switch(i.label){case 0:return this.commonUI.node.active=!0,this.formula.active=!0,this.labelQuestion.string=this.dividend+" \xf7 "+this.divisor+" = ",(t=this.formula.getComponent(cc.Animation)).play("show"),[4,o.default.delay(t.currentClip.duration).play()];case 1:return i.sent(),this.commonUI.setStyle(44),this.commonUI.onStart=function(){return e.startUp()},this.commonUI.onReplay=function(){cc.director.loadScene("main")},[2]}})})},e.prototype.startUp=function(){return __awaiter(this,void 0,void 0,function(){var t,e,i,r,s=this;return __generator(this,function(u){switch(u.label){case 0:return(t=this.formula.getComponent(cc.Animation)).play("scale"),e=t.currentClip.duration,i=o.default.moveTo(this.formula,this.fromulaTarget.position,e),r=o.default.fadeOut(this.formulaBg,e),o.default.serialSequence([i,r]).play(),[4,o.default.delay(e).play()];case 1:return u.sent(),this._stepMgr=new n.default,this._stepMgr.onComplete=function(){s.complete(),s.commonUI.setNextButton(!1).play()},this._stepMgr.onPause=function(){s.commonUI.showGesture()},this._stepMgr.onStart=function(){s.commonUI.setPreviousButton(!1).play()},this._stepMgr.onPlay=function(){s.commonUI.setPreviousButton(!0)},this._stepMgr.OnReverse=function(){s.commonUI.setNextButton(!0)},[4,this._stepMgr.init(a.default.getInstance().isAutoPlayArr)];case 2:return u.sent(),this.commonUI.onNext=function(){s.next()},this.commonUI.onPrevious=function(){s.previous()},this.commonUI.onReplay=function(){cc.director.loadScene("main")},this.commonUI.enable=!0,[2]}})})},e.prototype.next=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.commonUI.enable=!1,[4,this._stepMgr.play()];case 1:return t.sent(),this.commonUI.enable=!0,[2]}})})},e.prototype.previous=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.commonUI.enable=!1,[4,this._stepMgr.reverse()];case 1:return t.sent(),this.commonUI.enable=!0,[2]}})})},e.prototype.complete=function(){return this.commonUI.showReplayButton()},e._instance=void 0,e=i=__decorate([d],e)}(r.default);i.default=l,cc._RF.pop()},{"../common/action_play/ActionManager":"ActionManager","../common/component/CommonUI":"CommonUI","../common/util/StepAudioManager":"StepAudioManager","../common/util/Utils":"Utils","./CaptionCreator":"CaptionCreator","./step/StepManager":"StepManager","./view/MainBinder":"MainBinder"}],MathUtil:[function(t,e,i){"use strict";cc._RF.push(e,"40c2e98vSND2KdWdjkBvSFz","MathUtil"),Object.defineProperty(i,"__esModule",{value:!0}),i.default={correctFloat:function(t,e){return void 0===e&&(e=12),parseFloat(t.toPrecision(e))},priorityOperatorIndex:function(t){var e=t.clone();return e.indexOf("(")>-1&&e.indexOf(")")>-1&&(e=e.slice(e.indexOf("(")+1,e.indexOf(")"))),e.indexOf("[")>-1&&e.indexOf("]")>-1&&(e=e.slice(e.indexOf("[")+1,e.indexOf("]"))),e.indexOf("*")>-1||e.indexOf("\xd7")>-1||e.indexOf("/")>-1||e.indexOf("\xf7")>-1?e.findIndex(function(t){return"*"==t||"\xd7"==t||"/"==t||"\xf7"==t}):e.indexOf("+")>-1||e.indexOf("-")>-1?e.findIndex(function(t){return"+"==t||"-"==t}):0},endZeroCount:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=Number.MAX_VALUE,n=0;n<t.length;n++){for(var r=t[n].toString().split("").reverse(),o=0,a=0;a<r.length&&0==Number(r[a]);a++)o++;i=Math.min(i,o)}return i}},cc._RF.pop()},{}],MetaData:[function(t,e,i){"use strict";cc._RF.push(e,"a79bbnXnvdMvKolM/9hpwsl","MetaData"),Object.defineProperty(i,"__esModule",{value:!0}),i.InitArray=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=[]);for(var n=[],r=0;r<t;r++)r>=e&&r<e+i.length?n.push(i[r-e]):n.push(" ");return n};var n=function(){function t(){this.data=new Array,this.history=new Array,this.addonData={},this.width=0,this.audioIdx=0}return t.prototype.getData=function(){return this.data},t.prototype.setData=function(t){this.data=t},t.prototype.getHistoryData=function(){return this.history},t.prototype.updateAudioIdx=function(t){this.audioIdx=t},t.prototype.getAudioIdx=function(){return this.audioIdx},t.prototype.dump=function(){for(var t="",e=0;e<this.data.length;e++)t+=this.data[e].join("")+"\n";return t},t.prototype.dumps=function(){for(var t="",e=0;e<this.history.length;e++){var i=this.history[e];(i.addonData.ignore||0==Object.keys(i.addonData).length)&&(t+=i.dump()+"-".repeat(i.width)+"\n")}return t},t.prototype.log=function(){console.log(this.dump())},t.prototype.next=function(){var t=this.clone();this.history.push(t),this.addonData={}},t}();i.default=n,cc._RF.pop()},{}],MoveBy:[function(t,e,i){"use strict";cc._RF.push(e,"82f08h7+OZFQY0gz8Dz1jSZ","MoveBy"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../base/Action"),r=t("./Delay"),o=function(t){function e(e,i,n){var r=t.call(this,e)||this;return r._delta=void 0,r._delta=i,r.duration=n,r}return __extends(e,t),e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return t=cc.moveBy(this.duration,this._delta.x,this._delta.y),this.target.runAction(this.easeType?t.easing(this.easeType):t),[4,new r.default(this.duration).play()];case 1:return e.sent(),[2]}})})},e.prototype.reverse=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return t=cc.moveBy(this.duration,-this._delta.x,-this._delta.y),this.target.runAction(t),[4,new r.default(this.duration).play()];case 1:return e.sent(),[2]}})})},e}(n.default);i.default=o,cc._RF.pop()},{"../base/Action":"Action","./Delay":"Delay"}],MoveTo:[function(t,e,i){"use strict";cc._RF.push(e,"f992fQ3f0VGILKcni06uP57","MoveTo"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../base/Action"),r=t("./Delay"),o=function(t){function e(e,i,n){var r=t.call(this,e)||this;return r._originPos=void 0,r._tagetPos=void 0,r._tagetPos=i.clone(),r.duration=n,r}return __extends(e,t),e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return this._originPos=this.target.position,t=cc.moveTo(this.duration,this._tagetPos),this.target.runAction(this.easeType?t.easing(this.easeType):t),[4,new r.default(this.duration).play()];case 1:return e.sent(),[2]}})})},e.prototype.reverse=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return t=cc.moveTo(this.duration,this._originPos),this.target.runAction(t),[4,new r.default(this.duration).play()];case 1:return e.sent(),[2]}})})},e}(n.default);i.default=o,cc._RF.pop()},{"../base/Action":"Action","./Delay":"Delay"}],ParallelSequence:[function(t,e,i){"use strict";cc._RF.push(e,"f8140R4/+VDtY/NR+W6VPzW","ParallelSequence"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../base/Action"),r=t("../action/Delay"),o=t("./SerialSequence"),a=function(t){function e(e){var i=t.call(this,e)||this;return i.align(),i}return __extends(e,t),e.prototype.align=function(){for(var t=0;t<this.target.length;t++){var e=this.target[t];if(e.duration<this.duration){var i=new r.default(this.duration-e.duration),n=new o.default([e,i]);this.target[t]=n}}},e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.target.forEach(function(t){t.play()}),[4,new r.default(this.duration).play()];case 1:return t.sent(),[2]}})})},e.prototype.reverse=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.target.forEach(function(t){t.reverse()}),[4,new r.default(this.duration).play()];case 1:return t.sent(),[2]}})})},Object.defineProperty(e.prototype,"duration",{get:function(){return this.target.max(function(t){return t.duration}).duration},enumerable:!0,configurable:!0}),e}(n.default);i.default=a,cc._RF.pop()},{"../action/Delay":"Delay","../base/Action":"Action","./SerialSequence":"SerialSequence"}],PlayAudio:[function(t,e,i){"use strict";cc._RF.push(e,"5680383QnlB0Yd98d0AvImg","PlayAudio"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../base/Action"),r=t("./Delay"),o=function(t){function e(e){var i=t.call(this,e)||this;if("string"==typeof e){var n=cc.audioEngine.playEffect(i.target,!1);cc.audioEngine.stop(n),i.duration=cc.audioEngine.getDuration(n)}else{var r=e._audio;i.duration=r.duration}return i}return __extends(e,t),e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return cc.audioEngine.playEffect(this.target,!1),[4,new r.default(this.duration).play()];case 1:return t.sent(),[2]}})})},e.prototype.reverse=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},e}(n.default);i.default=o,cc._RF.pop()},{"../base/Action":"Action","./Delay":"Delay"}],RemoveFromStage:[function(t,e,i){"use strict";cc._RF.push(e,"2f208s0KG5IMKrLJpvOfQtQ","RemoveFromStage"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(t){function e(e){var i=t.call(this,e)||this;return i._parent=void 0,i._pos=void 0,i}return __extends(e,t),e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this._parent=this.target.parent,this._pos=this.target.position,this.target.parent=void 0,[2]})})},e.prototype.reverse=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this.target.parent=this._parent,this.target.position=this._pos,[2]})})},e}(t("../base/Action").default);i.default=n,cc._RF.pop()},{"../base/Action":"Action"}],ScaleBy:[function(t,e,i){"use strict";cc._RF.push(e,"fc316y38xtP0rPDJu3bik0o","ScaleBy"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../base/Action"),r=t("./Delay"),o=function(t){function e(e,i,n){var r=t.call(this,e)||this;return r._delta=void 0,r._delta=i,r.duration=n,r}return __extends(e,t),e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return t=cc.scaleBy(this.duration,this._delta.x,this._delta.y),this.target.runAction(this.easeType?t.easing(this.easeType):t),[4,new r.default(this.duration).play()];case 1:return e.sent(),[2]}})})},e.prototype.reverse=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return t=cc.scaleBy(this.duration,-this._delta.x,-this._delta.y),this.target.runAction(t),[4,new r.default(this.duration).play()];case 1:return e.sent(),[2]}})})},e}(n.default);i.default=o,cc._RF.pop()},{"../base/Action":"Action","./Delay":"Delay"}],ScaleTo:[function(t,e,i){"use strict";cc._RF.push(e,"3def2UsjZ9Nf5YWKIQTiFys","ScaleTo"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../base/Action"),r=t("./Delay"),o=function(t){function e(e,i,n){var r=t.call(this,e)||this;return r._originScale=void 0,r._tagetScale=void 0,r._tagetScale=i,r.duration=n,r}return __extends(e,t),e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return this._originScale=new cc.Vec2(this.target.scaleX,this.target.scaleY),t=cc.scaleTo(this.duration,this._tagetScale.x,this._tagetScale.y),this.target.runAction(this.easeType?t.easing(this.easeType):t),[4,new r.default(this.duration).play()];case 1:return e.sent(),[2]}})})},e.prototype.reverse=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return t=cc.scaleTo(this.duration,this._originScale.x,this._originScale.y),this.target.runAction(t),[4,new r.default(this.duration).play()];case 1:return e.sent(),[2]}})})},e}(n.default);i.default=o,cc._RF.pop()},{"../base/Action":"Action","./Delay":"Delay"}],SerialSequence:[function(t,e,i){"use strict";cc._RF.push(e,"4da5afgRnBIP6W4WgbXxstf","SerialSequence"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:t=this.target.clone(),e.label=1;case 1:return t.length<=0?[3,3]:[4,t.shift().play()];case 2:return e.sent(),[3,1];case 3:return[2]}})})},e.prototype.reverse=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:t=this.target.clone(),e.label=1;case 1:return t.length<=0?[3,3]:[4,t.pop().reverse()];case 2:return e.sent(),[3,1];case 3:return[2]}})})},Object.defineProperty(e.prototype,"duration",{get:function(){return this.target.sum(function(t){return t.duration})},enumerable:!0,configurable:!0}),e}(t("../base/Action").default);i.default=n,cc._RF.pop()},{"../base/Action":"Action"}],SetString:[function(t,e,i){"use strict";cc._RF.push(e,"0c550jadpVMCKMewv/GtOw0","SetString"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../base/Action"),r=t("./Delay"),o=t("./FadeOut"),a=t("./FadeIn"),s=function(t){function e(e,i,n){void 0===n&&(n=0);var r=t.call(this,e)||this;return r._originTxt="",r._targetTxt="",r._targetTxt=i,r.duration=n,r}return __extends(e,t),e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._originTxt=this.target.getComponent(cc.Label).string,[4,new o.default(this.target,.1)];case 1:return t.sent(),[4,new r.default(this.duration).play()];case 2:return t.sent(),this.target.getComponent(cc.Label).string=this._targetTxt,[4,new a.default(this.target,.1)];case 3:return t.sent(),[2]}})})},e.prototype.reverse=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,new o.default(this.target,.1)];case 1:return t.sent(),this.target.getComponent(cc.Label).string=this._originTxt,[4,new a.default(this.target,.1)];case 2:return t.sent(),[4,new r.default(this.duration).play()];case 3:return t.sent(),[2]}})})},e}(n.default);i.default=s,cc._RF.pop()},{"../base/Action":"Action","./Delay":"Delay","./FadeIn":"FadeIn","./FadeOut":"FadeOut"}],SetVariable:[function(t,e,i){"use strict";cc._RF.push(e,"430c0tXuFFLgp3RXOh2Z/d5","SetVariable"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(t){function e(e,i,n){var r=t.call(this,e)||this;return r._originValue=void 0,r._targetValue=void 0,r._property="",r._property=i,r._targetValue=n,r}return __extends(e,t),e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this._originValue=this.target[this._property],this.target[this._property]=this._targetValue,[2]})})},e.prototype.reverse=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this.target[this._property]=this._originValue,[2]})})},e}(t("../base/Action").default);i.default=n,cc._RF.pop()},{"../base/Action":"Action"}],SizeTo:[function(t,e,i){"use strict";cc._RF.push(e,"754e8jeN3pJ1JHf9eVNiV3P","SizeTo"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../base/Action"),r=t("./Delay"),o=function(t){function e(e,i,n){var r=t.call(this,e)||this;return r._originSize=void 0,r._targetSize=void 0,r.duration=n,r._targetSize=i,r}return __extends(e,t),e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._originSize=this.target.getContentSize(),this.sizeTo(this.target,this._targetSize,this.duration),[4,new r.default(this.duration).play()];case 1:return t.sent(),[2]}})})},e.prototype.reverse=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.sizeTo(this.target,this._originSize,this.duration),[4,new r.default(this.duration).play()];case 1:return t.sent(),[2]}})})},e.prototype.sizeTo=function(t,e,i){var n=0,r=cc.director.getScheduler(),o=t.width,a=t.height;r.schedule(function(){var r=(n+=.005)/i;if(n>=i)return t.width=e.width,void(t.height=e.height);t.width=o+r*(e.width-o),t.height=a+r*(e.height-a)},t,.005,i/.005,0,!1)},e}(n.default);i.default=o,cc._RF.pop()},{"../base/Action":"Action","./Delay":"Delay"}],StepAudioManager:[function(t,e,i){"use strict";cc._RF.push(e,"5a76boTmEJFY6w9FeQFhd8f","StepAudioManager"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../action_play/ActionManager"),r=t("../config/Constants"),o=t("./LoaderManger"),a=function(){function t(){this.TIMEOUT=1e4,this.AUDIO_COUNT=5,this.MAX_TIMES=2,this._dicUrl={},this._breakDurationDic={},this._dubDic={},this._handledDubTxtArr=[],this.originDubTxtArr=[]}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.init=function(t){return __awaiter(this,void 0,void 0,function(){var e,i,n,a,s,u,c;return __generator(this,function(d){switch(d.label){case 0:cc.game.on(r.default.ERROR_TTS_TIMEOUT,function(){console.error(r.default.ERROR_TTS_TIMEOUT)}),this.handleSymbol(t),this.originDubTxtArr=t,this._handledDubTxtArr=this.split(t),e=0,i=void 0,d.label=1;case 1:return e<this.MAX_TIMES&&!i?(console.log("request api:"+r.default.URL_API+",times"+e),[4,this.requestApi()]):[3,3];case 2:return i=d.sent(),e++,[3,1];case 3:return i&&i.ok?[4,i.text()]:[3,6];case 4:for(n=d.sent(),a=JSON.parse(n).data,s=[],u=0;u<a.length;u++)a[u]&&(c=""+r.default.URL_CDN_SOUND+a[u],s.push(c),this._dicUrl[this._handledDubTxtArr[u]]=c);return[4,o.default.getInstance().loadExternalAssets(s.slice(0,Math.min(this.AUDIO_COUNT,s.length)))];case 5:return d.sent(),s.length>this.AUDIO_COUNT&&o.default.getInstance().loadExternalAssets(s.slice(this.AUDIO_COUNT)),[3,7];case 6:cc.game.dispatchEvent(new cc.Event(r.default.ERROR_TTS_TIMEOUT,!0)),d.label=7;case 7:return[2]}})})},t.prototype.requestApi=function(){return __awaiter(this,void 0,Promise,function(){var t=this;return __generator(this,function(e){return[2,Promise.race([fetch(r.default.URL_API,{method:"POST",body:JSON.stringify({data:this._handledDubTxtArr})}),new Promise(function(e,i){setTimeout(e,t.TIMEOUT)})])]})})},t.prototype.getSequence=function(t){for(var e=this.originDubTxtArr[t],i=this._dubDic[e],r=this._breakDurationDic[e],o=[],a=0;a<i.length;a++){var s=this.getPlayAudioAction(i[a]);if(s&&o.push(s),r&&r[a]){var u=r[a];o.push(n.default.delay(u))}}return n.default.serialSequence(o)},t.prototype.handleSymbol=function(t){for(var e=0;e<t.length;e++)t[e]=t[e].replace(/\\uff0c/g,"[p0]").replace(/\,/g,"[p0]").replace(/\:/g,"").replace(/\\uff1a/g,"")},t.prototype.split=function(t){for(var e=[],i=0;i<t.length;i++){var n=[],r=t[i];if(/\[p\d+\]/.test(r)){for(var o=r.split(/\[p\d+\]/),a=0;a<o.length;a++){var s=o[a],u=-1!=e.indexOf(s);s.length>0&&!u&&e.push(o[a]),n.push(o[a])}for(var c=[],d=void 0,l=/\[p\d+\]/g;d=l.exec(r);){var h=/\d+/.exec(d),p=Number(h);p=0==p?300:p,c.push(p/1e3)}this._breakDurationDic[r]=c}else{u=-1!=e.indexOf(r);r.length>0&&!u&&e.push(r),n.push(r)}this._dubDic[r]=n}return e},t.prototype.getPlayAudioAction=function(t){var e=this._dicUrl[t],i=cc.loader.getRes(e);if(i)return n.default.playAudio(i)},t._instance=void 0,t}();i.default=a,cc._RF.pop()},{"../action_play/ActionManager":"ActionManager","../config/Constants":"Constants","./LoaderManger":"LoaderManger"}],StepAuto:[function(t,e,i){"use strict";cc._RF.push(e,"6b35f3qEZBI4qIlzMTYYG6r","StepAuto"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../base/Step"),r=t("./StepEnd"),o=t("./StepEmptyAction"),a=t("./StepEmptyAudio"),s=function(t){function e(e){void 0===e&&(e="stepAuto");var i=t.call(this,e)||this;return i.sequence=i.vf.autoStep(),i}return __extends(e,t),e.prototype.next=function(){var t=this.vf.getNextMeta();return t?t.audioIdx<n.default.audioIndex?new a.default:t.audioIdx==n.default.audioIndex?new e:new o.default:new r.default},e}(n.default);i.default=s,cc._RF.pop()},{"../base/Step":"Step","./StepEmptyAction":"StepEmptyAction","./StepEmptyAudio":"StepEmptyAudio","./StepEnd":"StepEnd"}],StepEmptyAction:[function(t,e,i){"use strict";cc._RF.push(e,"9eefbTTL9FBRo0gIHYGiozD","StepEmptyAction"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../base/Step"),r=t("./StepEnd"),o=t("./StepAuto"),a=t("../../../common/action_play/ActionManager"),s=t("./StepEmptyAudio"),u=function(t){function e(e){void 0===e&&(e="stepEmptyAction");var i=t.call(this,e)||this;return i.sequence=a.default.delay(0),i}return __extends(e,t),e.prototype.next=function(){var t=this.vf.getNextMeta();return t?t.audioIdx<n.default.audioIndex?new s.default:t.audioIdx==n.default.audioIndex?new o.default:new e:new r.default},e}(n.default);i.default=u,cc._RF.pop()},{"../../../common/action_play/ActionManager":"ActionManager","../base/Step":"Step","./StepAuto":"StepAuto","./StepEmptyAudio":"StepEmptyAudio","./StepEnd":"StepEnd"}],StepEmptyAudio:[function(t,e,i){"use strict";cc._RF.push(e,"37cecrsru1PGYdyIwKF2KhD","StepEmptyAudio"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../base/Step"),r=t("./StepEnd"),o=t("./StepAuto"),a=t("../../../common/action_play/ActionManager"),s=t("./StepEmptyAction"),u=function(t){function e(e){void 0===e&&(e="stepEmptyAudio");var i=t.call(this,e)||this;return i.sequence=i.vf.autoStep(),i}return __extends(e,t),e.prototype.next=function(){var t=this.vf.getNextMeta();return t?t.audioIdx<n.default.audioIndex?new e:t.audioIdx==n.default.audioIndex?new o.default:new s.default:new r.default},e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return console.log("Step.audioIndex : ",n.default.audioIndex),[4,a.default.parallelSequence([this.sequence]).play()];case 1:return t.sent(),[2]}})})},e.prototype.reverse=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.sequence.reverse()];case 1:return t.sent(),[2]}})})},e}(n.default);i.default=u,cc._RF.pop()},{"../../../common/action_play/ActionManager":"ActionManager","../base/Step":"Step","./StepAuto":"StepAuto","./StepEmptyAction":"StepEmptyAction","./StepEnd":"StepEnd"}],StepEnd:[function(t,e,i){"use strict";cc._RF.push(e,"0aa7dHjiCJADYyTIXYNiwko","StepEnd"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../base/Step"),r=t("../../../common/action_play/ActionManager"),o=function(t){function e(e){void 0===e&&(e="end");var i=t.call(this,e)||this;return i.sequence=r.default.serialSequence([i.main.complete()]),i}return __extends(e,t),e.prototype.next=function(){},e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,r.default.parallelSequence([this.sequence]).play()];case 1:return t.sent(),[2]}})})},e}(n.default);i.default=o,cc._RF.pop()},{"../../../common/action_play/ActionManager":"ActionManager","../base/Step":"Step"}],StepEnter:[function(t,e,i){"use strict";cc._RF.push(e,"cf42b68NOVEOqdiPuP3pFu7","StepEnter"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../base/Step"),r=t("../../../common/action_play/ActionManager"),o=t("./StepAuto"),a=t("./StepEmptyAction"),s=function(t){function e(e){void 0===e&&(e="enter");var i=t.call(this,e)||this;return i.sequence=r.default.serialSequence([r.default.delay(1),i.vf.init(i.main.historySteps)]),i}return __extends(e,t),e.prototype.next=function(){var t=this.vf.getNextMeta();if(t)return t.audioIdx<=n.default.audioIndex?new o.default:new a.default},e}(n.default);i.default=s,cc._RF.pop()},{"../../../common/action_play/ActionManager":"ActionManager","../base/Step":"Step","./StepAuto":"StepAuto","./StepEmptyAction":"StepEmptyAction"}],StepManager:[function(t,e,i){"use strict";cc._RF.push(e,"e9a80VadbhJOo4IaEOZwYkE","StepManager"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./base/Step"),r=t("./steps/StepEnter"),o=t("../../common/action_play/ActionManager"),a=t("./steps/StepEnd"),s=t("../../common/component/CommonUI"),u=function(){function t(){this._autoStepDt=.5,this._steps=[],this.onComplete=void 0,this.onStart=void 0,this.onPause=void 0,this.onPlay=void 0,this.OnReverse=void 0,this._isAutoPlayArr=[]}return t.prototype.init=function(t,e){return void 0===e&&(e=0),__awaiter(this,void 0,void 0,function(){return __generator(this,function(i){switch(i.label){case 0:return this._isAutoPlayArr=t,this._stepEnter=new r.default,this._step=this._stepEnter,n.default.audioIndex=e,[4,this._step.play()];case 1:return i.sent(),this._isAutoPlayArr[n.default.audioIndex]?[4,o.default.delay(this._autoStepDt).play()]:[3,4];case 2:return i.sent(),[4,this.play()];case 3:i.sent(),i.label=4;case 4:return[2]}})})},t.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._step=this._step.next(),s.default.instance.stepIndex++,this._step?(console.log("push step:",this._step),this._steps.push(this._step),console.log("steps:",this._steps),this.onPlay&&this.onPlay(),[4,this._step.play()]):[3,2];case 1:if(t.sent(),this._step instanceof a.default&&this.onComplete)return console.log("step complete"),this.onComplete(),[2];t.label=2;case 2:return this._isAutoPlayArr[n.default.audioIndex]?[4,o.default.delay(this._autoStepDt).play()]:[3,5];case 3:return t.sent(),[4,this.play()];case 4:return t.sent(),[3,6];case 5:this.onPause&&this.onPause(),t.label=6;case 6:return[2]}})})},t.prototype.reverse=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t}();i.default=u,cc._RF.pop()},{"../../common/action_play/ActionManager":"ActionManager","../../common/component/CommonUI":"CommonUI","./base/Step":"Step","./steps/StepEnd":"StepEnd","./steps/StepEnter":"StepEnter"}],StepParallelSequence:[function(t,e,i){"use strict";cc._RF.push(e,"9ce0eVMurZDUbHFXj5tNij7","StepParallelSequence"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../action_play/base/Action"),r=t("../../action_play/ActionManager"),o=t("../../action_play/action/Delay"),a=t("../../action_play/sequence/SerialSequence"),s=function(t){function e(e,i){var n=t.call(this,e)||this;return n._stepDuration=0,n._stepDuration=i,n.align(),n}return __extends(e,t),e.prototype.align=function(){for(var t=0;t<this.target.length;t++)this.target[t]=r.default.serialSequence([new o.default(t*this._stepDuration),this.target[t]]);for(t=0;t<this.target.length;t++)if(this.target[t].duration<this.duration){var e=new o.default(this.duration-this.target[t].duration),i=new a.default([this.target[t],e]);this.target[t]=i}},e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.target.forEach(function(t){t.play()}),[4,new o.default(this.duration).play()];case 1:return t.sent(),[2]}})})},e.prototype.reverse=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.target.forEach(function(t){t.reverse()}),[4,new o.default(this.duration).play()];case 1:return t.sent(),[2]}})})},Object.defineProperty(e.prototype,"duration",{get:function(){return this.target.max(function(t){return t.duration}).duration},enumerable:!0,configurable:!0}),e}(n.default);i.default=s,cc._RF.pop()},{"../../action_play/ActionManager":"ActionManager","../../action_play/action/Delay":"Delay","../../action_play/base/Action":"Action","../../action_play/sequence/SerialSequence":"SerialSequence"}],Step:[function(t,e,i){"use strict";cc._RF.push(e,"8a45fvwA7xCwLFWInvQSqXN","Step"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Main"),r=t("../../../common/util/StepAudioManager"),o=t("../../../common/action_play/ActionManager"),a=function(){function t(t){void 0===t&&(t=""),this.name="",this.sequence=void 0,this.name=t}return Object.defineProperty(t.prototype,"main",{get:function(){return n.default.getInstance()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"vf",{get:function(){return this.main.verticalFormula},enumerable:!0,configurable:!0}),t.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(i){switch(i.label){case 0:return console.log("Step.audioIndex : ",t.audioIndex),e=r.default.getInstance().getSequence(t.audioIndex),[4,o.default.parallelSequence([this.sequence,e]).play()];case 1:return i.sent(),t.audioIndex++,[2]}})})},t.prototype.reverse=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,this.sequence.reverse()];case 1:return e.sent(),t.audioIndex--,[2]}})})},t.audioIndex=0,t}();i.default=a,cc._RF.pop()},{"../../../common/action_play/ActionManager":"ActionManager","../../../common/util/StepAudioManager":"StepAudioManager","../../Main":"Main"}],StringUtils:[function(t,e,i){"use strict";function n(t){var e=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d"];if(t/10<1)return e[t-1];if(t/10>=1&&t/10<10){var i=Math.floor(t/10),n=t%10;return 1==i?0==n?"\u4e00\u5341":"\u5341"+e[n-1]:0==n?e[i-1]+"\u5341":e[i-1]+"\u5341"+e[n-1]}}cc._RF.push(e,"53509ws3NRKQJ5XzZNSzsuj","StringUtils"),Object.defineProperty(i,"__esModule",{value:!0}),i.default={zeroCountToUnitString:function(t){var e="";switch(t){case 0:e="\u4e2a\u4e00";break;case 1:e="\u4e2a\u5341";break;case 2:e="\u4e2a\u767e";break;case 3:e="\u4e2a\u5343";break;case 4:e="\u4e2a\u4e07";break;default:console.warn("\u8f93\u5165\u7684\u6570\u5b57\u592a\u5927"),e=""}return e},indexToDigitString:function(t){var e="";switch(t){case 0:e="\u4e2a";break;case 1:e="\u5341";break;case 2:e="\u767e";break;case 3:e="\u5343";break;case 4:e="\u4e07";break;default:console.warn("\u8f93\u5165\u7684\u6570\u5b57\u592a\u5927"),e=""}return e},multiplyTableString:function(t,e){var i=t*e,r=n(t),o=n(e),a=n(i),s=t<e?r+o:o+r;return i<10&&(s+="\u5f97"),s+=a}},cc._RF.pop()},{}],Test:[function(t,e,i){"use strict";cc._RF.push(e,"02a6cu7iwFLqK+L6v2PLfO7","Test"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./scripts/CaptionCreator"),r=t("./common/util/StepAudioManager"),o=t("./common/action_play/ActionManager"),a=cc._decorator,s=a.ccclass,u=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.inputA=null,e.inputB=null,e.goBtn=null,e.showTxt=null,e.audioIndex=0,e}return __extends(e,t),e.prototype.onGoCallback=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(i){switch(i.label){case 0:return this.goBtn.node.active=!1,(t=n.default.getInstance()).init(Number(this.inputA.string),Number(this.inputB.string)),e="",t.dubTxt.forEach(function(t){e+="<color=#ff0000>"+t+"</color>\n"}),this.showTxt.string=e,[4,r.default.getInstance().init(t.dubTxt)];case 1:return i.sent(),this.audioIndex=0,[4,this.play()];case 2:return i.sent(),[2]}})})},e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,o.default.delay(.5).play()];case 1:return t.sent(),[4,r.default.getInstance().getSequence(this.audioIndex).play()];case 2:return t.sent(),this.audioIndex++,[4,this.play()];case 3:return t.sent(),[2]}})})},__decorate([u(cc.EditBox)],e.prototype,"inputA",void 0),__decorate([u(cc.EditBox)],e.prototype,"inputB",void 0),__decorate([u(cc.Button)],e.prototype,"goBtn",void 0),__decorate([u(cc.RichText)],e.prototype,"showTxt",void 0),e=__decorate([s],e)}(cc.Component);i.default=c,cc._RF.pop()},{"./common/action_play/ActionManager":"ActionManager","./common/util/StepAudioManager":"StepAudioManager","./scripts/CaptionCreator":"CaptionCreator"}],Utils:[function(t,e,i){"use strict";cc._RF.push(e,"faaf01SODZJi7z38y9DJ90f","Utils"),Object.defineProperty(i,"__esModule",{value:!0}),i.default={getParamFromUrl:function(){return function(t){var e={};if(!t)return e;"?"==t[0]&&(t=t.slice(1));for(var i=t.split("&"),n=0;n<i.length;n++){var r=i[n].split("=");e[r[0]]=decodeURIComponent(r[1])}return e}(location.search)},randomNumbers:function(t,e,i){i>e-t&&cc.error("params error");for(var n=[],r=t;r<e;r++)n.push(r);for(var o=[];o.length<i;){var a=Math.floor(Math.random()*n.length);o.push(n[a]),n.remove(n[a])}return o},sendLog:function(t){"undefined"!=typeof wx&&wx.miniProgram.postMessage({data:JSON.stringify(t)})},transformLocalPosition:function(t,e,i){return i.convertToNodeSpaceAR(e.convertToWorldSpaceAR(t))}},cc._RF.pop()},{}],VerticalFormula:[function(t,e,i){"use strict";cc._RF.push(e,"712f5bocCZAO7HtdmGK5Jp6","VerticalFormula"),Object.defineProperty(i,"__esModule",{value:!0});var n,r=t("../../../common/action_play/ActionManager"),o=t("../../../common/component/DottedLine"),a=t("../../../common/util/MathUtil"),s=t("deep-object-diff").diff;(function(t){t[t.Init=1]="Init",t[t.DotMove=2]="DotMove",t[t.Watch=3]="Watch",t[t.Answer=4]="Answer",t[t.Question=5]="Question",t[t.Drop=6]="Drop",t[t.AddShan=7]="AddShan",t[t.AddZeroDividend=8]="AddZeroDividend",t[t.AddDotDividend=9]="AddDotDividend",t[t.WriteResult=10]="WriteResult",t[t.FinishAnswer=11]="FinishAnswer",t[t.Undefined=12]="Undefined"})(n||(n={}));var u=cc._decorator,c=u.ccclass,d=u.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._prefabLabel=void 0,e._hGap=15,e._vGap=30,e._smallGap=15,e._labelWidth=46,e._labelHeight=80,e.aniTime=.3,e.moveTime=.8,e.gapTime=.15,e.longAniTime=1,e.gapRet=1.5,e.labelTime=.1,e.sign=void 0,e.dividendPos=void 0,e.divisorPos=void 0,e.retPos=void 0,e.airShip=void 0,e.hlDividend=void 0,e.hlDivisor=void 0,e.hlRet=void 0,e.estLine=void 0,e.midQstFormula=void 0,e.preQstFormula=void 0,e.endQstFormula=void 0,e.answerLabel=void 0,e.hlAnswer=void 0,e.mulSign=void 0,e.equalSign=void 0,e.answerLine=void 0,e.mulLine=void 0,e.estLabel=void 0,e.estCard=void 0,e.prefabLine=void 0,e.tip=void 0,e.modLine=void 0,e.hlColor=cc.Color.BLACK,e.zeroLabelNote=void 0,e.tipLabelNote=void 0,e.tipLabel=void 0,e.arrowImg=void 0,e.warmImg=void 0,e.dotBg=void 0,e.dotMoveAudio=void 0,e._formulaNodes=[[]],e._divideNodes=[],e._divisorNodes=[],e._lineNodes=[],e.index=0,e.dotIndex=-1,e.steps=[],e.curStep=null,e.stepIdx=0,e}return __extends(e,t),e.prototype.onLoad=function(){this.initFormula()},e.prototype.diff=function(t,e){if(!t)return{aniType:n.Init};var i=s(t,e);return i.aniType=n.Init,i&&i.divisor?i.aniType=n.DotMove:i.data&&i.data[0]?i.aniType=n.AddShan:i.data&&i.data[2]?-1!=Object.values(i.data[2]).indexOf("0")?i.aniType=n.AddZeroDividend:i.aniType=n.AddDotDividend:i.data&&i.data[e.getData().length-1]&&(i.aniType=n.Drop),i.addonData&&(i.addonData.watchNum?i.aniType=n.Watch:i.addonData.result?i.aniType=n.Question:i.addonData.multiplier?i.aniType=n.Answer:i.addonData.product?i.aniType=n.WriteResult:i.addonData.finishAnswer&&(i.aniType=n.FinishAnswer)),i.aniType==n.Init&&e.getData().length>3&&(i.aniType=n.Undefined),i},e.prototype.autoStep=function(){var t=this.stepIdx;this.stepIdx<this.steps.length&&this.stepIdx++;var e=this.steps[t],i=this.diff(this.curStep,e);console.log(e.dump()),console.log(i);var o=this.curStep;if(this.setupNext(),this.curStep=e,i.aniType==n.Init)return this.updateFormulaHolder(e),this.jumpTo(e);if(i.aniType==n.DotMove)return this.moveDot(e,o,i);switch(i.aniType){case n.Question:return this.question(e,i);case n.Answer:return this.answer(e,i);case n.Watch:return this.watch(e,i);case n.WriteResult:return this.writeResult(e,i);case n.Drop:return this.drop(e,i);case n.AddShan:return this.shan(e,o,i);case n.FinishAnswer:return this.finalAnswer();case n.AddDotDividend:return this.addDot(e,o,i);case n.AddZeroDividend:return this.addZero(e,o,i)}return r.default.delay(0)},e.prototype.updateFormulaHolder=function(t){var e=t,i=e.dotIndex||-1;this.dotIndex=i;var n=e.getData();this.updateSignWidth();for(var r=this.dividendPos.x,o=0;o<10;o++){var a=r;o==this.dotIndex&&(a-=(this._hGap+this._labelWidth)/2),(c=this._divideNodes[o])&&(c.x=a);for(var s=0;s<20;s++)(c=this._formulaNodes[s][o]).x=a;o!=i&&(r+=this._hGap+this._labelWidth)}if(r=this.dividendPos.x-10.5*(this._hGap+this._labelWidth),-1!=(i=n[1].indexOf("."))){var u=n[1].length;for(o=0;o<=10-(u-i);o++){var c;(c=this._divisorNodes[o]).x+=o==10-(u-i)?(this._hGap+this._labelWidth)/2:this._hGap+this._labelWidth}}},e.prototype.updateSignWidth=function(){var t=this.curStep.getData()[2],e=t.indexOf(" ")>0?t.indexOf(" ")+1:t.length+1;this.sign.width=e*(this._labelWidth+this._hGap),this.modLine.width=this.sign.width},Object.defineProperty(e.prototype,"updateLineNum",{set:function(t){var e=this._lineNodes[t];e.width=this.sign.width,e.opacity=255},enumerable:!0,configurable:!0}),e.prototype.initFormula=function(){this.clearAllNode();this.sign.width=0,this.sign.opacity=255,this.modLine.width=this.sign.width;for(var t=this.dividendPos.y,e=this.dividendPos.x,i=0;i<10;i++){(s=cc.instantiate(this._prefabLabel)).getComponent(cc.Label).string=" ",this._divideNodes[i]=s,s.opacity=255;var n=e;s.position=new cc.Vec2(n,this.dividendPos.y+this._vGap+this._labelHeight),this.node.parent.addChild(s),e+=this._hGap+this._labelWidth}e=this.dividendPos.x-10.5*(this._hGap+this._labelWidth);for(i=0;i<10;i++){(s=cc.instantiate(this._prefabLabel)).getComponent(cc.Label).string=" ",this._divisorNodes[i]=s,s.opacity=255;n=e;s.position=new cc.Vec2(n,this.dividendPos.y),this.node.parent.addChild(s),e+=this._hGap+this._labelWidth}for(var r=0;r<20;r++){if(0!=r&&r%2==0){var o=cc.instantiate(this.modLine);o.y=t+(this._labelHeight+this._vGap)/2,o.width=this.modLine.width,o.opacity=255,this._lineNodes[Math.floor(r/2)]=o,this.node.parent.addChild(o),t-=this._smallGap}this._formulaNodes[r]=this._formulaNodes[r]||[],e=this.dividendPos.x;for(var a=0;a<10;a++){var s;(s=cc.instantiate(this._prefabLabel)).getComponent(cc.Label).string=" ",this._formulaNodes[r][a]=s,s.opacity=255;n=e;s.position=new cc.Vec2(n,t),this.node.parent.addChild(s),e+=this._hGap+this._labelWidth}t-=this._vGap+this._labelHeight}},e.prototype.setupNext=function(){this.zeroLabelNote.opacity=0,this.tipLabelNote.opacity=0},e.prototype.addZero=function(t,e,i){return this.addNum(t,"0")},e.prototype.addDot=function(t,e,i){return this.addNum(t,".")},e.prototype.addNum=function(t,e){this.updateSignWidth();for(var i=t.getData()[2],n=0,o=i.length-1;o>=0;o--)if(" "!=i[o]){n=o;break}var a=this._formulaNodes[0][n];a.getComponent(cc.Label).string=i[n],a.opacity=0;var s=[];return s.push(r.default.fadeIn(a,this.longAniTime)),"0"==e&&(this.zeroLabelNote.position=cc.p(a.x+this._labelWidth,a.y),s.push(r.default.fadeIn(this.zeroLabelNote,this.aniTime))),s.push(r.default.scaleBy(a,new cc.Vec2(.2,.2),this.aniTime)),s.push(r.default.scaleTo(a,cc.Vec2.ONE,this.aniTime).easing(cc.easeBackOut())),r.default.serialSequence(s)},e.prototype.shan=function(t,e,i){for(var n=t.getData()[0],o=0,a=n.length-1;a>=0;a--)if(" "!=n[a]){o=a;break}var s=[r.default.delay(0)],u=this._divideNodes[o];if(u.opacity=0,u.getComponent(cc.Label).string=n[o],"0"==n[o]){var c=r.default.fadeIn(u,this.longAniTime);this.airShip.x<300&&this.airShip.x>-300&&(c=r.default.parallelSequence([c,r.default.ccAnimation(this.airShip,"miss")])),s.push(c)}else if("."==n[o]){s.push(r.default.delay(4));var d=u.color;this.warmImg.opacity=0;var l=u.position;this.dotBg.opacity=255,this.warmImg.position=cc.p(this.dividendPos.x+this.sign.width,this.dividendPos.y),s.push(r.default.colorTo(u,cc.Color.RED,0)),s.push(r.default.fadeIn(this.warmImg,0)),s.push(r.default.fadeIn(u,0)),u.y-=this._labelHeight+this._vGap,this.dotBg.position=cc.p(0,0),this.dotBg.removeFromParent(),u.addChild(this.dotBg),s.push(r.default.parallelSequence([r.default.playAudio(this.dotMoveAudio),r.default.ccAnimation(this.dotBg,"dotani"),r.default.moveToY(u,l.y,this.longAniTime)])),s.push(r.default.fadeOut(this.dotBg,0)),s.push(r.default.colorTo(u,d,0)),s.push(r.default.fadeOut(this.warmImg,0))}return r.default.serialSequence(s)},e.prototype.moveDot=function(t,e,i){var n;this.hlDivisor.opacity=0;for(var o,s,u=e.divisor,c=Number(a.default.correctFloat(u-Math.floor(u))).toString().length-2,d=this._labelWidth+this._hGap,l=[],h=0;h<this._divisorNodes.length&&"."!=(o=this._divisorNodes[h]).getComponent(cc.Label).string;h++);var p=-1;for(h=0;h<this._formulaNodes[0].length;h++){if("."==(w=this._formulaNodes[0][h].getComponent(cc.Label).string)){p=h,s=this._formulaNodes[0][p];break}" "!=w&&""!=w||-1!=p||(p=h,(s=this._formulaNodes[0][p]).getComponent(cc.Label).string=".",s.x-=d/2),-1!=p&&h>p&&(this._formulaNodes[0][h].x-=d)}for(var f=o.position.x+d/2,_=s.position.x+d/2;c>0;){c--;var y=[],v=cc.instantiate(this.arrowImg);v.opacity=0,v.position=cc.p(f,o.position.y-this._labelHeight/2),f+=d,this.node.parent.addChild(v),y.push(r.default.serialSequence([r.default.fadeIn(v,0),r.default.ccAnimation(v,"dotmove"),r.default.moveByX(o,d,0),r.default.fadeOut(v,0)])),(v=cc.instantiate(this.arrowImg)).opacity=0,v.position=cc.p(_,s.position.y-this._labelHeight/2),_+=d,this.node.parent.addChild(v),y.push(r.default.serialSequence([r.default.fadeIn(v,0),r.default.ccAnimation(v,"dotmove"),r.default.moveByX(s,d,0),r.default.fadeOut(v,0)])),p++;var g=this._formulaNodes[0][p];if(g)" "!=(w=g.getComponent(cc.Label).string)&&""!=w||(y.push(r.default.setString(g,"0",this.aniTime)),r.default.fadeIn(g,this.longAniTime)),this._formulaNodes[0][p]=s,this._formulaNodes[0][p-1]=g;l.push(r.default.parallelSequence(y))}var m=[],b=!1;for(h=0;h<this._divisorNodes.length;h++){var w=(o=this._divisorNodes[h]).getComponent(cc.Label).string;if(b&&"0"!=w&&"."!=w&&" "!=w)break;"."==w&&(b=!0),"."!=w&&"0"!=w||m.push(r.default.serialSequence([r.default.fadeOut(o,this.aniTime),r.default.setString(o," ",this.aniTime)]))}var A=0;for(h=0;h<this._formulaNodes[0].length;h++){var S=this._formulaNodes[0][h];if((w=S.getComponent(cc.Label).string)==t.getData()[2][0]){A=h;break}m.push(r.default.serialSequence([r.default.fadeOut(S,this.aniTime),r.default.setString(S," ",this.aniTime)]))}for(h=this._formulaNodes[0].length-1;h>=0;h--){var T=this._formulaNodes[0][h];if(" "!=(w=T.getComponent(cc.Label).string)){"."==w&&m.push(r.default.setString(T," ",this.aniTime));break}m.push(r.default.setString(T," ",this.aniTime))}l.push(r.default.parallelSequence(m));var D=[],x=t.dotIndex||-1;if(A>0){var M=this._formulaNodes[0].splice(0,A);(n=this._formulaNodes[0]).splice.apply(n,[this._formulaNodes[0].length,0].concat(M));var N=this.dividendPos.x;for(h=0;h<this._formulaNodes[0].length;h++){var O=this._formulaNodes[0][h],F=N;h==x&&(F-=(this._hGap+this._labelWidth)/2),h!=x&&(N+=this._hGap+this._labelWidth),D.push(r.default.moveToX(O,F,this.aniTime))}l.push(r.default.parallelSequence(D))}return l.push(r.default.setVariable(this,"updateFormula","test")),r.default.serialSequence(l)},Object.defineProperty(e.prototype,"updateFormula",{set:function(t){this.updateFormulaHolder(this.curStep)},enumerable:!0,configurable:!0}),e.prototype.drop=function(t,e){var i=this,n=t,o=[r.default.delay(this.longAniTime)],a=null;e.data&&Object.keys(e.data).forEach(function(n){var s=e.data[n],u=Number(n);Object.keys(s).forEach(function(e){for(var n=s[e],c=Number(e),d=u-2,l=c;""==t.getData()[d][l]||" "==t.getData()[d][l];)d-=2;var h=i._formulaNodes[u-2][l];h.getComponent(cc.Label).string=n;var p=i._formulaNodes[d-2][l].position,f=i._formulaNodes[u-2][l].position;a=h.position,h.position=p,"."==n&&(h.opacity=0),o.push(r.default.serialSequence([r.default.addToStage(h,i.node.parent),r.default.moveTo(h,f,i.moveTime).easing(cc.easeBackOut())]))})});for(var s=t.getData(),u=s.length-1,c=0,d=s[u],l=!1,h=!1,p=0;p<d.length;p++){var f=this._formulaNodes[u-2][p],_=f.getComponent(cc.Label);if(" "!=_.string&&(h=!0,c=p),h&&(" "==_.string||p==d.length-1))break;"0"!=_.string&&"."!=_.string&&" "!=_.string&&p!=d.length-1&&(l=!0),l||(f.color=cc.Color.GRAY)}var y=[];if(" "==s[u-1][c]||c==s[u-1].length){this.tipLabelNote.position=new cc.Vec2(a.x,a.y-this._labelHeight/2);var v=r.default.fadeIn(this.tipLabelNote,this.aniTime),g=Number(d.join("").replace(".",""));if(n.dotIndex<0)this.tipLabel.string=g+"\u4e2a"+Math.pow(10,s[2].length-1-c);else{var m=n.dotIndex-c;m>0&&(m-=1),this.tipLabel.string=g+"\u4e2a"+Math.pow(10,m)}y.push(v)}return r.default.serialSequence([r.default.parallelSequence(o)].concat(y))},e.prototype.writeResult=function(t,e){for(var i=t.getData().length-1,n=(Math.floor(t.getData().length/2),this._divideNodes.length-1),a=i-1,s=this._divideNodes[n];s&&" "==s.getComponent(cc.Label).string;)n--,s=this._divideNodes[n];this.hlRet.position=new cc.Vec2(s.x,s.y+this._labelHeight/2),this.hlRet.opacity=255;var u=r.default.scaleTo(this.hlRet,cc.Vec2.ONE,this.aniTime).easing(cc.easeBackOut());this.mulSign.x=this.hlDivisor.x+this.hlDivisor.width/2,this.estLine.x=this.hlDivisor.x+this.hlDivisor.width/2,this.equalSign.x=this.hlDivisor.x+this.hlDivisor.width/2;var c=[new cc.Vec2(s.position.x,s.position.y),new cc.Vec2(s.x,this.mulSign.y),new cc.Vec2(this.mulSign.position.x,this.mulSign.position.y)],d=cc.instantiate(this.answerLine);d.zIndex=-100;var l=r.default.drawDottedLine(d,c,void 0,.5,o.DottedLineDrawAnimationType.StartToEnd),h=r.default.fadeIn(this.mulSign,this.aniTime),p=[this.mulSign.position,this.estLine.position],f=cc.instantiate(this.answerLine);f.zIndex=-100;var _=r.default.drawDottedLine(f,p,void 0,.5,o.DottedLineDrawAnimationType.StartToEnd);this.hlDivisor.scaleY=0,this.hlDivisor.opacity=255;var y=r.default.scaleTo(this.hlDivisor,cc.Vec2.ONE,this.aniTime).easing(cc.easeBackOut());this.equalSign.y=this._formulaNodes[a-2][0].y;var v=r.default.fadeIn(this.equalSign,this.aniTime),g=[this.estLine.position,this.equalSign.position],m=cc.instantiate(this.answerLine);m.zIndex=-100;for(var b=r.default.drawDottedLine(m,g,void 0,.5,o.DottedLineDrawAnimationType.StartToEnd),w=t.getData()[a],A=[],S=[],T=0;T<w.length;T++)if(" "!=w[T]){var D=this._formulaNodes[a-2][T];D.getComponent(cc.Label).string=w[T],D.opacity=0,"."!=w[T]&&(A.push(r.default.serialSequence([r.default.fadeIn(D,this.aniTime)])),S.push(D))}var x=S.first(),M=[this.equalSign.position,x.position],N=cc.instantiate(this.answerLine);N.zIndex=-100;var O=r.default.drawDottedLine(N,M,void 0,.5,o.DottedLineDrawAnimationType.StartToEnd);this.hlDividend.opacity=255,this.hlDividend.anchorX=0,this.hlDividend.anchorY=1,this.hlDividend.position=new cc.Vec2(x.x-this._labelWidth/2-this._hGap/2,x.y+this._labelHeight/2),this.hlDividend.width=S.length*(this._labelWidth+this._hGap),this.hlDividend.scaleX=0,this.hlDividend.scaleY=1;var F=r.default.scaleTo(this.hlDividend,cc.Vec2.ONE,this.aniTime),E=r.default.parallelSequence([r.default.addToStage(d,this.node.parent),r.default.addToStage(f,this.node.parent),r.default.addToStage(m,this.node.parent),r.default.addToStage(N,this.node.parent)]),R=r.default.parallelSequence([r.default.removeFromStage(d),r.default.removeFromStage(f),r.default.removeFromStage(m),r.default.removeFromStage(N)]),P=r.default.parallelSequence([r.default.fadeOut(d,this.aniTime),r.default.fadeOut(f,this.aniTime),r.default.fadeOut(m,this.aniTime),r.default.fadeOut(N,this.aniTime),r.default.fadeOut(this.mulSign,this.aniTime),r.default.fadeOut(this.equalSign,this.aniTime),r.default.fadeOut(this.hlDividend,this.aniTime),r.default.fadeOut(this.hlDivisor,this.aniTime),r.default.fadeOut(this.hlRet,this.aniTime)]);return r.default.serialSequence([E,u,l,h,_,y,b,v,O,r.default.parallelSequence([F,r.default.parallelSequence(A)]),r.default.delay(this.longAniTime),P,R,r.default.setVariable(this,"updateLineNum",Math.floor(i/2)-1)])},e.prototype.watch=function(t,e){var i=t,n=t.addonData,o=this._formulaNodes[0][0];if(n.watchNum<0)return this.hlDivisor.opacity=255,this.hlDivisor.x=this.dividendPos.x-(Math.abs(n.watchNum)+1)*(this._hGap+this._labelWidth),this.hlDivisor.y=this.dividendPos.y+(this._vGap+this._labelHeight)/2,this.hlDivisor.width=Math.abs(n.watchNum)*(this._labelWidth+this._hGap),this.hlDivisor.scaleX=0,r.default.scaleTo(this.hlDivisor,cc.Vec2.ONE,this.aniTime).easing(cc.easeBackOut());var a=this.hlDividend.width,s=n.watchNum*(this._labelWidth+this._hGap);this.hlDividend.opacity=255,this.hlDividend.anchorY=1,this.hlDividend.anchorX=0,this.hlDividend.width=s,this.hlDividend.scaleX=a/s,this.hlDividend.scaleY=1;var u=o.x-this._labelWidth/2-this._hGap/2,c=o.y+this._labelHeight/2;this.hlDividend.position=new cc.Vec2(u,c);var d=r.default.scaleTo(this.hlDividend,cc.Vec2.ONE,this.aniTime).easing(cc.easeBackOut()),l=t.divisor;this.hlDivisor.opacity=255,this.hlDivisor.scaleX=0;var h=Number(t.getData()[1].join("")).toString().replace(".","");this.hlDivisor.x=this.dividendPos.x-(h.length+1)*(this._hGap+this._labelWidth),this.hlDivisor.y=this.dividendPos.y+(this._vGap+this._labelHeight)/2,this.hlDivisor.width=l.toString().length*(this._labelWidth+this._hGap);var p=[d,r.default.scaleTo(this.hlDivisor,cc.Vec2.ONE,this.aniTime).easing(cc.easeBackOut())];this.tipLabelNote.position=cc.p(u+s/2,c-this._labelHeight);var f=r.default.fadeIn(this.tipLabelNote,this.aniTime),_=i.dividend.toString().replace(".","").substring(0,n.watchNum),y=_.length;if((_=Number(i.dividend.toString().replace(".","").substring(0,n.watchNum)))<i.divisor&&n.watchNum<i.dotIndex+1)this.tipLabel.string=_+" < "+i.divisor,f=r.default.serialSequence([r.default.delay(2),f]);else{var v=Math.floor(i.dividend).toString().length-y;this.tipLabel.string=_+"\u4e2a"+Math.pow(10,v)}p.push(f);for(var g=null,m=0;m<this._divideNodes.length;m++){var b=this._divideNodes[m].getComponent(cc.Label);"?"==b.string&&(b.string=" ")}var w=0;return w=i.dotIndex>0&&i.dotIndex<=n.watchNum-1?n.watchNum:n.watchNum-1,g||(g=this._divideNodes[w]),p.push(r.default.setString(g,"?",0)),r.default.parallelSequence(p)},e.prototype.answer=function(t,e){console.log("yinjun debug answer");t.getData().length;this.hlAnswer.opacity=255,this.hlAnswer.scaleX=0;for(var i=r.default.serialSequence([r.default.fadeIn(this.answerLabel.node,0),r.default.scaleTo(this.hlAnswer,cc.Vec2.ONE,this.aniTime).easing(cc.easeBackOut())]),n=t.getData()[0],a=0,s=n.length-1;s>=0;s--)if(" "!=n[s]){a=s;break}var u=this._divideNodes[a];u.getComponent(cc.Label).string=this.answerLabel.string;var c=u.position,d=cc.instantiate(this.hlAnswer);d.zIndex=-1,d.opacity=0,d.scale=1.3,d.anchorX=.5,d.position=new cc.Vec2(this.airShip.x+this.hlAnswer.x+d.width/2,this.airShip.y+this.hlAnswer.y),u.removeFromParent(),u.active=!0,u.opacity=0,u.position=new cc.Vec2(this.airShip.x+this.answerLabel.node.x,this.airShip.y+this.answerLabel.node.y),u.scale=1;var l=this.airShip.y+this.answerLabel.node.y,h=this.airShip.x+this.answerLabel.node.x,p=new cc.Vec2(h,l),f=new cc.Vec2(h,l-100);h=(n.length+1)*this._labelWidth;var _=new cc.Vec2(h,l-100);l=c.y;var y=new cc.Vec2(h,l);h=c.x;var v=[p,f,_,y,new cc.Vec2(h,l)],g=[d,u],m=cc.instantiate(this.answerLine);m.zIndex=-100,this.answerLine.opacity=255;var b=r.default.drawDottedLine(m,v,g,1,o.DottedLineDrawAnimationType.StartToEnd),w=r.default.parallelSequence([r.default.serialSequence([r.default.addToStage(d,this.node.parent),r.default.addToStage(u,this.node.parent),r.default.fadeIn(d,.1),r.default.fadeIn(u,.1)]),r.default.serialSequence([r.default.addToStage(m,this.node.parent),b])]),A=this._divideNodes.concat(u),S=[r.default.serialSequence([r.default.parallelSequence([r.default.serialSequence([r.default.fadeOut(m,this.aniTime),r.default.removeFromStage(m)]),r.default.fadeOut(d,this.aniTime),r.default.colorTo(u,cc.Color.BLACK,this.aniTime),r.default.fadeOut(this.hlDividend,this.aniTime),r.default.fadeOut(this.hlDivisor,this.aniTime),r.default.fadeOut(this.estLine,this.aniTime),r.default.fadeOut(this.estCard,this.aniTime)]),r.default.ccAnimation(this.airShip,"miss"),r.default.setVariable(this,"retNodes",A)])],T=r.default.parallelSequence(S);return r.default.serialSequence([i,w,r.default.delay(this.longAniTime),T])},e.prototype.question=function(t,e){var i=t,n=t.addonData,o=n.result%n.divisor==0?" = ":" < ";this.preQstFormula.string=n.divisor+" \xd7 ",this.endQstFormula.string=" "+o+n.result,this.answerLabel.string=Math.floor(n.result/n.divisor).toString();var a=t.getData().length-1,s=Math.floor(t.getData().length/2);this.hlAnswer.scaleX=0,this.answerLabel.node.opacity=0,this.airShip.y=this.dividendPos.y-a*this._labelHeight-s*this._vGap-2*this._labelHeight;t.getData()[0].join().length;var u=t.getData()[t.getData().length-1].indexOf(n.result.toString()[0]),c=i.dotIndex-u,d=n.result.toString().length;c>0&&c<d?u+=d:u=u+d-1;var l=this._divideNodes[u];return r.default.serialSequence([r.default.ccAnimation(this.airShip,"show"),r.default.setString(l,"?",0)])},e.prototype.hasNext=function(){return this.stepIdx<this.steps.length},e.prototype.getNextMeta=function(){return this.steps[this.stepIdx]},e.prototype.init=function(t){return this.steps=t,this.stepIdx=0,this.autoStep()},e.prototype.clearAllNode=function(){this._formulaNodes.forEach(function(t){t.forEach(function(t){t.removeFromParent(!0)})}),this._formulaNodes=[[]],this._divideNodes.forEach(function(t){t.removeFromParent(!0)}),this._divideNodes=[],this._divisorNodes.forEach(function(t){t.removeFromParent(!0)}),this._divisorNodes=[],this._lineNodes.forEach(function(t){t.removeFromParent(!0)}),this._lineNodes=[]},e.prototype.jumpTo=function(t){var e=[],i=t.getData(),n=i[2],o=n.indexOf(" ")>0?n.indexOf(" ")+1:n.length+1;this.sign.width=o*(this._labelWidth+this._hGap),this.sign.opacity=0,this.modLine.width=this.sign.width;for(var a=r.default.fadeIn(this.sign,this.longAniTime),s=i[0],u=(t.dotIndex,0);u<s.length;u++){(_=this._divideNodes[u]).getComponent(cc.Label).string=s[u],_.opacity=0,e.push(r.default.serialSequence([r.default.fadeIn(_,this.longAniTime)]))}var c=Number(i[1].join("")).toString(),d=this._divisorNodes.length-c.length;for(u=0;u<c.length;u++){(_=this._divisorNodes[d+u]).getComponent(cc.Label).string=c[u],_.opacity=0,e.push(r.default.serialSequence([r.default.fadeIn(_,this.longAniTime)]))}for(var l=2;l<i.length;l++){if(2!=l&&l%2==0){var h=this._lineNodes[Math.floor((l-2)/2)];h.width=this.modLine.width,h.opacity=0,e.push(r.default.serialSequence([r.default.fadeIn(h,this.longAniTime)]))}var p=i[l];this._formulaNodes[l-2]=this._formulaNodes[l-2]||[];for(var f=0;f<p.length;f++){var _;(_=this._formulaNodes[l-2][f]).getComponent(cc.Label).string=p[f],this._formulaNodes[l-2][f]=_,_.opacity=0,e.push(r.default.serialSequence([r.default.fadeIn(_,this.longAniTime)]))}}return r.default.parallelSequence([r.default.parallelSequence(e),a])},e.prototype.finalAnswer=function(){for(var t=[],e=this.curStep.getData()[0],i=0,n=e.length-1;n>=0;n--)if(" "!=e[n]){i=n;break}var a=this._divideNodes[i],s=a.x+1.5*this._labelWidth,u=[new cc.Vec2(s,a.y),new cc.Vec2(s+80,a.y)],c=cc.instantiate(this.answerLine);c.zIndex=-100,t.push(r.default.addToStage(c,this.node.parent));var d=r.default.drawDottedLine(c,u,void 0,.5,o.DottedLineDrawAnimationType.StartToEnd);t.push(d);var l=cc.instantiate(this._prefabLabel);return l.opacity=0,l.anchorX=0,l.position=new cc.Vec2(s+80,a.y),l.getComponent(cc.Label).string=" \u5546",t=t.concat([r.default.addToStage(l,this.node.parent),r.default.fadeIn(l,this.aniTime)]),r.default.serialSequence(t)},__decorate([d({type:cc.Prefab,visible:!0,displayName:"\u6587\u672c\u9884\u5236"})],e.prototype,"_prefabLabel",void 0),__decorate([d({type:cc.Integer,visible:!0,displayName:"\u6587\u672c\u6c34\u5e73\u95f4\u8ddd"})],e.prototype,"_hGap",void 0),__decorate([d({type:cc.Integer,visible:!0,displayName:"\u6587\u672c\u5782\u76f4\u95f4\u8ddd"})],e.prototype,"_vGap",void 0),__decorate([d({type:cc.Integer,visible:!0,displayName:"\u6587\u672c\u548c\u7ebf\u4e4b\u95f4\u7684\u5782\u76f4\u95f4\u8ddd"})],e.prototype,"_smallGap",void 0),__decorate([d({type:cc.Integer,visible:!0,displayName:"\u5355\u4e2a\u5b57\u7b26\u7684\u6587\u672c\u5bbd\u5ea6"})],e.prototype,"_labelWidth",void 0),__decorate([d({type:cc.Integer,visible:!0,displayName:"\u5355\u4e2a\u5b57\u7b26\u7684\u6587\u672c\u9ad8\u5ea6"})],e.prototype,"_labelHeight",void 0),__decorate([d({type:cc.Float,visible:!0,displayName:"\u57fa\u7840\u52a8\u753b\u65f6\u95f4"})],e.prototype,"aniTime",void 0),__decorate([d({type:cc.Float,visible:!0,displayName:"\u7b54\u6848\u4e0a\u79fb\u52a8\u753b\u65f6\u95f4"})],e.prototype,"moveTime",void 0),__decorate([d({type:cc.Float,visible:!0,displayName:"\u52a8\u753b\u65f6\u95f4\u95f4\u9694"})],e.prototype,"gapTime",void 0),__decorate([d({type:cc.Float,visible:!0,displayName:"\u957f\u7684\u52a8\u753b\u65f6\u95f4"})],e.prototype,"longAniTime",void 0),__decorate([d({type:cc.Float,visible:!0,displayName:"\u7ed3\u679c\u51fa\u73b0\u7684\u65f6\u95f4"})],e.prototype,"gapRet",void 0),__decorate([d({type:cc.Float,visible:!0,displayName:"\u6587\u672c\u66ff\u6362\u95f4\u9694"})],e.prototype,"labelTime",void 0),__decorate([d({type:cc.Node,visible:!0,displayName:"\u9664\u53f7"})],e.prototype,"sign",void 0),__decorate([d({type:cc.Node,visible:!0,displayName:"\u88ab\u9664\u6570\u4f4d\u7f6e"})],e.prototype,"dividendPos",void 0),__decorate([d({type:cc.Node,visible:!0,displayName:"\u9664\u6570\u4f4d\u7f6e"})],e.prototype,"divisorPos",void 0),__decorate([d({type:cc.Node,visible:!0,displayName:"\u5546\u4f4d\u7f6e"})],e.prototype,"retPos",void 0),__decorate([d({type:cc.Node,visible:!0,displayName:"\u98de\u8239"})],e.prototype,"airShip",void 0),__decorate([d({type:cc.Node,visible:!0,displayName:"\u88ab\u9664\u6570\u9ad8\u4eae"})],e.prototype,"hlDividend",void 0),__decorate([d({type:cc.Node,visible:!0,displayName:"\u9664\u6570\u9ad8\u4eae"})],e.prototype,"hlDivisor",void 0),__decorate([d({type:cc.Node,visible:!0,displayName:"\u5546\u9ad8\u4eae"})],e.prototype,"hlRet",void 0),__decorate([d({type:cc.Node,visible:!0,displayName:"\u4f30\u7b97\u865a\u7ebf"})],e.prototype,"estLine",void 0),__decorate([d({type:cc.Label,visible:!0,displayName:"\u63d0\u95ee\u5f0f\u5b50mid"})],e.prototype,"midQstFormula",void 0),__decorate([d({type:cc.Label,visible:!0,displayName:"\u63d0\u95ee\u5f0f\u5b50pre"})],e.prototype,"preQstFormula",void 0),__decorate([d({type:cc.Label,visible:!0,displayName:"\u63d0\u95ee\u5f0f\u5b50end"})],e.prototype,"endQstFormula",void 0),__decorate([d({type:cc.Label,visible:!0,displayName:"\u7b54\u6848\u6587\u672c"})],e.prototype,"answerLabel",void 0),__decorate([d({type:cc.Node,visible:!0,displayName:"\u7b54\u6848\u9ad8\u4eae"})],e.prototype,"hlAnswer",void 0),__decorate([d({type:cc.Node,visible:!0,displayName:"\u4e58\u53f7"})],e.prototype,"mulSign",void 0),__decorate([d({type:cc.Node,visible:!0,displayName:"\u7b49\u53f7"})],e.prototype,"equalSign",void 0),__decorate([d({type:cc.Node,visible:!0,displayName:"\u7b54\u6848\u865a\u7ebf"})],e.prototype,"answerLine",void 0),__decorate([d({type:cc.Node,visible:!0,displayName:"\u76f8\u4e58\u865a\u7ebf"})],e.prototype,"mulLine",void 0),__decorate([d({type:cc.Label,visible:!0,displayName:"\u4f30\u7b97\u6587\u672c"})],e.prototype,"estLabel",void 0),__decorate([d({type:cc.Node,visible:!0,displayName:"\u4f30\u7b97\u5361\u7247"})],e.prototype,"estCard",void 0),__decorate([d({type:cc.Prefab,visible:!0,displayName:"\u865a\u7ebf\u9884\u5236"})],e.prototype,"prefabLine",void 0),__decorate([d({type:cc.Node,visible:!0,displayName:"\u63d0\u793a\u5361\u7247"})],e.prototype,"tip",void 0),__decorate([d({type:cc.Node,visible:!0,displayName:"\u6c42\u4f59\u6570\u7684\u6a2a\u7ebf"})],e.prototype,"modLine",void 0),__decorate([d({type:cc.color,visible:!0,displayName:"\u9ad8\u4eae\u989c\u8272"})],e.prototype,"hlColor",void 0),__decorate([d(cc.Node)],e.prototype,"zeroLabelNote",void 0),__decorate([d(cc.Node)],e.prototype,"tipLabelNote",void 0),__decorate([d(cc.Label)],e.prototype,"tipLabel",void 0),__decorate([d(cc.Node)],e.prototype,"arrowImg",void 0),__decorate([d(cc.Node)],e.prototype,"warmImg",void 0),__decorate([d(cc.Node)],e.prototype,"dotBg",void 0),__decorate([d(cc.AudioClip)],e.prototype,"dotMoveAudio",void 0),e=__decorate([c],e)}(cc.Component);i.default=l,cc._RF.pop()},{"../../../common/action_play/ActionManager":"ActionManager","../../../common/component/DottedLine":"DottedLine","../../../common/util/MathUtil":"MathUtil","deep-object-diff":10}],VerticalMetaData:[function(t,e,i){"use strict";cc._RF.push(e,"8016dfadtZCgobdhBaLDnwS","VerticalMetaData"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(t){function e(e){void 0===e&&(e=0);var i=t.call(this)||this;return i.width=e,i}return __extends(e,t),e.prototype.pushRow=function(t){this.data.push(t)},e.prototype.getRow=function(t){return this.data[t]},e.prototype.getLastRow=function(){return this.data[this.data.length-1]},e.prototype.popRow=function(){this.data.pop()},e.prototype.updateRow=function(t,e){this.data.length>t&&(this.data[t]=e)},e.prototype.deleteRow=function(t,e){void 0===e&&(e=1),this.data.splice(t,e)},e}(t("./MetaData").default);i.default=n,cc._RF.pop()},{"./MetaData":"MetaData"}]},{},["Test","ActionManager","AddToStage","CCAnimation","ColorTo","Delay","DrawDottedLine","FadeIn","FadeOut","FadeTo","MoveBy","MoveTo","PlayAudio","RemoveFromStage","ScaleBy","ScaleTo","SetString","SetVariable","SizeTo","Action","ParallelSequence","SerialSequence","CommonUI","ComponentManager","DottedLine","DragableObject","Caption","StepParallelSequence","Constants","DataLog","DrawLineWithAnimation","DubTxtAnalyzer","EasyTween","ExtensionDefine","ExtensionImpl","LayoutUtils","LoaderManger","MathUtil","StepAudioManager","StringUtils","Utils","CaptionCreator","Main","AddOnData","DivisionVerticalData","MetaData","VerticalMetaData","StepManager","Step","StepAuto","StepEmptyAction","StepEmptyAudio","StepEnd","StepEnter","MainBinder","VerticalFormula"]);